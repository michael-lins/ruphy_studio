// interactjs@1.10.27 downloaded from https://ga.jspm.io/npm:interactjs@1.10.27/dist/interact.min.js

var v=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var g={};var w={exports:g};!function(v,g){w.exports=g()}(0,(function(){function t(v,g){var w=Object.keys(v);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(v);g&&(S=S.filter((function(g){return Object.getOwnPropertyDescriptor(v,g).enumerable}))),w.push.apply(w,S)}return w}function e(v){for(var g=1;g<arguments.length;g++){var w=null!=arguments[g]?arguments[g]:{};g%2?t(Object(w),!0).forEach((function(g){a(v,g,w[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach((function(g){Object.defineProperty(v,g,Object.getOwnPropertyDescriptor(w,g))}))}return v}function n(v){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},n(v)}function r(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function i(v,g){for(var w=0;w<g.length;w++){var S=g[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(v,d(S.key),S)}}function o(v,g,w){return g&&i(v.prototype,g),w&&i(v,w),Object.defineProperty(v,"prototype",{writable:!1}),v}function a(v,g,w){return(g=d(g))in v?Object.defineProperty(v,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[g]=w,v}function s(v,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),g&&l(v,g)}function c(v){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},c(v)}function l(v,g){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,g){return v.__proto__=g,v},l(v,g)}function u(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function p(g){var w=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(v){return!1}}();return function(){var S,_=c(g);if(w){var P=c(this||v).constructor;S=Reflect.construct(_,arguments,P)}else S=_.apply(this||v,arguments);return function(v,g){if(g&&("object"==typeof g||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return u(v)}(this||v,S)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(v,g,w){var S=function(v,g){for(;!Object.prototype.hasOwnProperty.call(v,g)&&null!==(v=c(v)););return v}(v,g);if(S){var _=Object.getOwnPropertyDescriptor(S,g);return _.get?_.get.call(arguments.length<3?v:w):_.value}},f.apply(this||v,arguments)}function d(v){var g=function(v,g){if("object"!=typeof v||null===v)return v;var w=v[Symbol.toPrimitive];if(void 0!==w){var S=w.call(v,g||"default");if("object"!=typeof S)return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===g?String:Number)(v)}(v,"string");return"symbol"==typeof g?g:g+""}var h=function(v){return!(!v||!v.Window)&&v instanceof v.Window},g=void 0,S=void 0;function m(v){g=v;var w=v.document.createTextNode("");w.ownerDocument!==v.document&&"function"==typeof v.wrap&&v.wrap(w)===w&&(v=v.wrap(v)),S=v}function y(v){return h(v)?v:(v.ownerDocument||v).defaultView||S.window}"undefined"!=typeof window&&window&&m(window);var b=function(v){return!!v&&"object"===n(v)},x=function(v){return"function"==typeof v},_={window:function(v){return v===S||h(v)},docFrag:function(v){return b(v)&&11===v.nodeType},object:b,func:x,number:function(v){return"number"==typeof v},bool:function(v){return"boolean"==typeof v},string:function(v){return"string"==typeof v},element:function(v){if(!v||"object"!==n(v))return!1;var g=y(v)||S;return/object|function/.test("undefined"==typeof Element?"undefined":n(Element))?v instanceof Element||v instanceof g.Element:1===v.nodeType&&"string"==typeof v.nodeName},plainObject:function(v){return b(v)&&!!v.constructor&&/function Object\b/.test(v.constructor.toString())},array:function(v){return b(v)&&void 0!==v.length&&x(v.splice)}};function E(v){var g=v.interaction;if("drag"===g.prepared.name){var w=g.prepared.axis;"x"===w?(g.coords.cur.page.y=g.coords.start.page.y,g.coords.cur.client.y=g.coords.start.client.y,g.coords.velocity.client.y=0,g.coords.velocity.page.y=0):"y"===w&&(g.coords.cur.page.x=g.coords.start.page.x,g.coords.cur.client.x=g.coords.start.client.x,g.coords.velocity.client.x=0,g.coords.velocity.page.x=0)}}function T(v){var g=v.iEvent,w=v.interaction;if("drag"===w.prepared.name){var S=w.prepared.axis;if("x"===S||"y"===S){var _="x"===S?"y":"x";g.page[_]=w.coords.start.page[_],g.client[_]=w.coords.start.client[_],g.delta[_]=0}}}var P={id:"actions/drag",install:function(v){var g=v.actions,w=v.Interactable,S=v.defaults;w.prototype.draggable=P.draggable,g.map.drag=P,g.methodDict.drag="draggable",S.actions.drag=P.defaults},listeners:{"interactions:before-action-move":E,"interactions:action-resume":E,"interactions:action-move":T,"auto-start:check":function(v){var g=v.interaction,w=v.interactable,S=v.buttons,_=w.options.drag;if(_&&_.enabled&&(!g.pointerIsDown||!/mouse|pointer/.test(g.pointerType)||0!=(S&w.options.drag.mouseButtons)))return v.action={name:"drag",axis:"start"===_.lockAxis?_.startAxis:_.lockAxis},!1}},draggable:function(g){return _.object(g)?((this||v).options.drag.enabled=!1!==g.enabled,this.setPerAction("drag",g),this.setOnEvents("drag",g),/^(xy|x|y|start)$/.test(g.lockAxis)&&((this||v).options.drag.lockAxis=g.lockAxis),/^(xy|x|y)$/.test(g.startAxis)&&((this||v).options.drag.startAxis=g.startAxis),this||v):_.bool(g)?((this||v).options.drag.enabled=g,this||v):(this||v).options.drag},beforeMove:E,move:T,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(v){return 0===v.search("drag")}},k=P,D={init:function(v){var g=v;D.document=g.document,D.DocumentFragment=g.DocumentFragment||O,D.SVGElement=g.SVGElement||O,D.SVGSVGElement=g.SVGSVGElement||O,D.SVGElementInstance=g.SVGElementInstance||O,D.Element=g.Element||O,D.HTMLElement=g.HTMLElement||D.Element,D.Event=g.Event,D.Touch=g.Touch||O,D.PointerEvent=g.PointerEvent||g.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function O(){}var I=D;var Z={init:function(v){var g=I.Element,w=v.navigator||{};Z.supportsTouch="ontouchstart"in v||_.func(v.DocumentTouch)&&I.document instanceof v.DocumentTouch,Z.supportsPointerEvent=!1!==w.pointerEnabled&&!!I.PointerEvent,Z.isIOS=/iP(hone|od|ad)/.test(w.platform),Z.isIOS7=/iP(hone|od|ad)/.test(w.platform)&&/OS 7[^\d]/.test(w.appVersion),Z.isIe9=/MSIE 9/.test(w.userAgent),Z.isOperaMobile="Opera"===w.appName&&Z.supportsTouch&&/Presto/.test(w.userAgent),Z.prefixedMatchesSelector="matches"in g.prototype?"matches":"webkitMatchesSelector"in g.prototype?"webkitMatchesSelector":"mozMatchesSelector"in g.prototype?"mozMatchesSelector":"oMatchesSelector"in g.prototype?"oMatchesSelector":"msMatchesSelector",Z.pEventTypes=Z.supportsPointerEvent?I.PointerEvent===v.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Z.wheelEvent=I.document&&"onmousewheel"in I.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};var vt=Z;function M(v,g){if(v.contains)return v.contains(g);for(;g;){if(g===v)return!0;g=g.parentNode}return!1}function z(v,g){for(;_.element(v);){if(R(v,g))return v;v=A(v)}return null}function A(v){var g=v.parentNode;if(_.docFrag(g)){for(;(g=g.host)&&_.docFrag(g););return g}return g}function R(v,w){return S!==g&&(w=w.replace(/\/deep\//g," ")),v[vt.prefixedMatchesSelector](w)}var C=function(v){return v.parentNode||v.host};function j(v,g){for(var w,S=[],_=v;(w=C(_))&&_!==g&&w!==_.ownerDocument;)S.unshift(_),_=w;return S}function F(v,g,w){for(;_.element(v);){if(R(v,g))return!0;if((v=A(v))===w)return R(v,g)}return!1}function X(v){return v.correspondingUseElement||v}function Y(v){var g=v instanceof I.SVGElement?v.getBoundingClientRect():v.getClientRects()[0];return g&&{left:g.left,right:g.right,top:g.top,bottom:g.bottom,width:g.width||g.right-g.left,height:g.height||g.bottom-g.top}}function L(v){var g,w=Y(v);if(!vt.isIOS7&&w){var _={x:(g=(g=y(v))||S).scrollX||g.document.documentElement.scrollLeft,y:g.scrollY||g.document.documentElement.scrollTop};w.left+=_.x,w.right+=_.x,w.top+=_.y,w.bottom+=_.y}return w}function q(v){for(var g=[];v;)g.push(v),v=A(v);return g}function B(v){return!!_.string(v)&&(I.document.querySelector(v),!0)}function V(v,g){for(var w in g)v[w]=g[w];return v}function W(v,g,w){return"parent"===v?A(w):"self"===v?g.getRect(w):z(w,v)}function G(v,g,w,S){var P=v;return _.string(P)?P=W(P,g,w):_.func(P)&&(P=P.apply(void 0,S)),_.element(P)&&(P=L(P)),P}function N(v){return v&&{x:"x"in v?v.x:v.left,y:"y"in v?v.y:v.top}}function U(v){return!v||"x"in v&&"y"in v||((v=V({},v)).x=v.left||0,v.y=v.top||0,v.width=v.width||(v.right||0)-v.x,v.height=v.height||(v.bottom||0)-v.y),v}function H(v,g,w){v.left&&(g.left+=w.x),v.right&&(g.right+=w.x),v.top&&(g.top+=w.y),v.bottom&&(g.bottom+=w.y),g.width=g.right-g.left,g.height=g.bottom-g.top}function K(v,g,w){var S=w&&v.options[w];return N(G(S&&S.origin||v.options.origin,v,g,[v&&g]))||{x:0,y:0}}function $(v,g){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(v){return!0},S=arguments.length>3?arguments[3]:void 0;if(S=S||{},_.string(v)&&-1!==v.search(" ")&&(v=J(v)),_.array(v))return v.forEach((function(v){return $(v,g,w,S)})),S;if(_.object(v)&&(g=v,v=""),_.func(g)&&w(v))S[v]=S[v]||[],S[v].push(g);else if(_.array(g))for(var P=0,k=g;P<k.length;P++){var D=k[P];$(v,D,w,S)}else if(_.object(g))for(var I in g)$(J(I).map((function(g){return"".concat(v).concat(g)})),g[I],w,S);return S}function J(v){return v.trim().split(/ +/)}var Q=function(v,g){return Math.sqrt(v*v+g*g)},xt=["webkit","moz"];function tt(v,g){v.__set||(v.__set={});var n=function(w){if(xt.some((function(v){return 0===w.indexOf(v)})))return 1;"function"!=typeof v[w]&&"__set"!==w&&Object.defineProperty(v,w,{get:function(){return w in v.__set?v.__set[w]:v.__set[w]=g[w]},set:function(g){v.__set[w]=g},configurable:!0})};for(var w in g)n(w);return v}function et(v,g){v.page=v.page||{},v.page.x=g.page.x,v.page.y=g.page.y,v.client=v.client||{},v.client.x=g.client.x,v.client.y=g.client.y,v.timeStamp=g.timeStamp}function nt(v){v.page.x=0,v.page.y=0,v.client.x=0,v.client.y=0}function rt(v){return v instanceof I.Event||v instanceof I.Touch}function it(v,g,w){return v=v||"page",(w=w||{}).x=g[v+"X"],w.y=g[v+"Y"],w}function ot(v,g){return g=g||{x:0,y:0},vt.isOperaMobile&&rt(v)?(it("screen",v,g),g.x+=window.scrollX,g.y+=window.scrollY):it("page",v,g),g}function at(v){return _.number(v.pointerId)?v.pointerId:v.identifier}function st(v,g,w){var S=g.length>1?lt(g):g[0];ot(S,v.page),function(v,g){g=g||{},vt.isOperaMobile&&rt(v)?it("screen",v,g):it("client",v,g)}(S,v.client),v.timeStamp=w}function ct(v){var g=[];return _.array(v)?(g[0]=v[0],g[1]=v[1]):"touchend"===v.type?1===v.touches.length?(g[0]=v.touches[0],g[1]=v.changedTouches[0]):0===v.touches.length&&(g[0]=v.changedTouches[0],g[1]=v.changedTouches[1]):(g[0]=v.touches[0],g[1]=v.touches[1]),g}function lt(v){for(var g={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},w=0;w<v.length;w++){var S=v[w];for(var _ in g)g[_]+=S[_]}for(var P in g)g[P]/=v.length;return g}function ut(v){if(!v.length)return null;var g=ct(v),w=Math.min(g[0].pageX,g[1].pageX),S=Math.min(g[0].pageY,g[1].pageY),_=Math.max(g[0].pageX,g[1].pageX),P=Math.max(g[0].pageY,g[1].pageY);return{x:w,y:S,left:w,top:S,right:_,bottom:P,width:_-w,height:P-S}}function pt(v,g){var w=g+"X",S=g+"Y",_=ct(v),P=_[0][w]-_[1][w],k=_[0][S]-_[1][S];return Q(P,k)}function ft(v,g){var w=g+"X",S=g+"Y",_=ct(v),P=_[1][w]-_[0][w],k=_[1][S]-_[0][S];return 180*Math.atan2(k,P)/Math.PI}function dt(v){return _.string(v.pointerType)?v.pointerType:_.number(v.pointerType)?[void 0,void 0,"touch","pen","mouse"][v.pointerType]:/touch/.test(v.type||"")||v instanceof I.Touch?"touch":"mouse"}function ht(v){var g=_.func(v.composedPath)?v.composedPath():v.path;return[X(g?g[0]:v.target),X(v.currentTarget)]}var Ot=function(){function t(g){r(this||v,t),(this||v).immediatePropagationStopped=!1,(this||v).propagationStopped=!1,(this||v)._interaction=g}return o(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){(this||v).propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){(this||v).immediatePropagationStopped=(this||v).propagationStopped=!0}}]),t}();Object.defineProperty(Ot.prototype,"interaction",{get:function(){return(this||v)._interaction._proxy},set:function(){}});var gt=function(v,g){for(var w=0;w<g.length;w++){var S=g[w];v.push(S)}return v},mt=function(v){return gt([],v)},yt=function(v,g){for(var w=0;w<v.length;w++)if(g(v[w],w,v))return w;return-1},bt=function(v,g){return v[yt(v,g)]},kt=function(g){s(n,g);var w=p(n);function n(g,S,_){var P;r(this||v,n),(P=w.call(this||v,S._interaction)).dropzone=void 0,P.dragEvent=void 0,P.relatedTarget=void 0,P.draggable=void 0,P.propagationStopped=!1,P.immediatePropagationStopped=!1;var k="dragleave"===_?g.prev:g.cur,D=k.element,I=k.dropzone;return P.type=_,P.target=D,P.currentTarget=D,P.dropzone=I,P.dragEvent=S,P.relatedTarget=S.target,P.draggable=S.interactable,P.timeStamp=S.timeStamp,P}return o(n,[{key:"reject",value:function(){var g=this||v,w=(this||v)._interaction.dropState;if("dropactivate"===(this||v).type||(this||v).dropzone&&w.cur.dropzone===(this||v).dropzone&&w.cur.element===(this||v).target)if(w.prev.dropzone=(this||v).dropzone,w.prev.element=(this||v).target,w.rejected=!0,w.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===(this||v).type){var S=w.activeDrops,_=yt(S,(function(v){var w=v.dropzone,S=v.element;return w===g.dropzone&&S===g.target}));w.activeDrops.splice(_,1);var P=new n(w,(this||v).dragEvent,"dropdeactivate");P.dropzone=(this||v).dropzone,P.target=(this||v).target,(this||v).dropzone.fire(P)}else(this||v).dropzone.fire(new n(w,(this||v).dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){(this||v).propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){(this||v).immediatePropagationStopped=(this||v).propagationStopped=!0}}]),n}(Ot);function wt(v,g){for(var w=0,S=v.slice();w<S.length;w++){var _=S[w],P=_.dropzone,k=_.element;g.dropzone=P,g.target=k,P.fire(g),g.propagationStopped=g.immediatePropagationStopped=!1}}function Et(v,g){for(var w=function(v,g){for(var w=[],S=0,P=v.interactables.list;S<P.length;S++){var k=P[S];if(k.options.drop.enabled){var D=k.options.drop.accept;if(!(_.element(D)&&D!==g||_.string(D)&&!R(g,D)||_.func(D)&&!D({dropzone:k,draggableElement:g})))for(var I=0,Z=k.getAllElements();I<Z.length;I++){var vt=Z[I];vt!==g&&w.push({dropzone:k,element:vt,rect:k.getRect(vt)})}}}return w}(v,g),S=0;S<w.length;S++){var P=w[S];P.rect=P.dropzone.getRect(P.element)}return w}function Tt(v,g,w){for(var S=v.dropState,_=v.interactable,P=v.element,k=[],D=0,Z=S.activeDrops;D<Z.length;D++){var vt=Z[D],xt=vt.dropzone,Ot=vt.element,kt=vt.rect,Mt=xt.dropCheck(g,w,_,P,Ot,kt);k.push(Mt?Ot:null)}var It=function(v){for(var g,w,S,_=[],P=0;P<v.length;P++){var k=v[P],D=v[g];if(k&&P!==g)if(D){var Z=C(k),vt=C(D);if(Z!==k.ownerDocument)if(vt!==k.ownerDocument)if(Z!==vt){_=_.length?_:j(D);var xt=void 0;if(D instanceof I.HTMLElement&&k instanceof I.SVGElement&&!(k instanceof I.SVGSVGElement)){if(k===vt)continue;xt=k.ownerSVGElement}else xt=k;for(var Ot=j(xt,D.ownerDocument),kt=0;Ot[kt]&&Ot[kt]===_[kt];)kt++;var Mt=[Ot[kt-1],Ot[kt],_[kt]];if(Mt[0])for(var It=Mt[0].lastChild;It;){if(It===Mt[1]){g=P,_=Ot;break}if(It===Mt[2])break;It=It.previousSibling}}else S=D,void 0,void 0,(parseInt(y(w=k).getComputedStyle(w).zIndex,10)||0)>=(parseInt(y(S).getComputedStyle(S).zIndex,10)||0)&&(g=P);else g=P}else g=P}return g}(k);return S.activeDrops[It]||null}function St(v,g,w){var S=v.dropState,_={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===w.type&&(_.activate=new kt(S,w,"dropactivate"),_.activate.target=null,_.activate.dropzone=null),"dragend"===w.type&&(_.deactivate=new kt(S,w,"dropdeactivate"),_.deactivate.target=null,_.deactivate.dropzone=null),S.rejected||(S.cur.element!==S.prev.element&&(S.prev.dropzone&&(_.leave=new kt(S,w,"dragleave"),w.dragLeave=_.leave.target=S.prev.element,w.prevDropzone=_.leave.dropzone=S.prev.dropzone),S.cur.dropzone&&(_.enter=new kt(S,w,"dragenter"),w.dragEnter=S.cur.element,w.dropzone=S.cur.dropzone)),"dragend"===w.type&&S.cur.dropzone&&(_.drop=new kt(S,w,"drop"),w.dropzone=S.cur.dropzone,w.relatedTarget=S.cur.element),"dragmove"===w.type&&S.cur.dropzone&&(_.move=new kt(S,w,"dropmove"),w.dropzone=S.cur.dropzone)),_}function _t(v,g){var w=v.dropState,S=w.activeDrops,_=w.cur,P=w.prev;g.leave&&P.dropzone.fire(g.leave),g.enter&&_.dropzone.fire(g.enter),g.move&&_.dropzone.fire(g.move),g.drop&&_.dropzone.fire(g.drop),g.deactivate&&wt(S,g.deactivate),w.prev.dropzone=_.dropzone,w.prev.element=_.element}function Pt(v,g){var w=v.interaction,S=v.iEvent,_=v.event;if("dragmove"===S.type||"dragend"===S.type){var P=w.dropState;g.dynamicDrop&&(P.activeDrops=Et(g,w.element));var k=S,D=Tt(w,k,_);P.rejected=P.rejected&&!!D&&D.dropzone===P.cur.dropzone&&D.element===P.cur.element,P.cur.dropzone=D&&D.dropzone,P.cur.element=D&&D.element,P.events=St(w,0,k)}}var Mt={id:"actions/drop",install:function(g){var w=g.actions,S=g.interactStatic,P=g.Interactable,D=g.defaults;g.usePlugin(k),P.prototype.dropzone=function(g){return function(v,g){if(_.object(g)){if(v.options.drop.enabled=!1!==g.enabled,g.listeners){var w=$(g.listeners),S=Object.keys(w).reduce((function(v,g){return v[/^(enter|leave)/.test(g)?"drag".concat(g):/^(activate|deactivate|move)/.test(g)?"drop".concat(g):g]=w[g],v}),{}),P=v.options.drop.listeners;P&&v.off(P),v.on(S),v.options.drop.listeners=S}return _.func(g.ondrop)&&v.on("drop",g.ondrop),_.func(g.ondropactivate)&&v.on("dropactivate",g.ondropactivate),_.func(g.ondropdeactivate)&&v.on("dropdeactivate",g.ondropdeactivate),_.func(g.ondragenter)&&v.on("dragenter",g.ondragenter),_.func(g.ondragleave)&&v.on("dragleave",g.ondragleave),_.func(g.ondropmove)&&v.on("dropmove",g.ondropmove),/^(pointer|center)$/.test(g.overlap)?v.options.drop.overlap=g.overlap:_.number(g.overlap)&&(v.options.drop.overlap=Math.max(Math.min(1,g.overlap),0)),"accept"in g&&(v.options.drop.accept=g.accept),"checker"in g&&(v.options.drop.checker=g.checker),v}return _.bool(g)?(v.options.drop.enabled=g,v):v.options.drop}(this||v,g)},P.prototype.dropCheck=function(g,w,S,P,k,D){return function(v,g,w,S,P,k,D){var I=!1;if(!(D=D||v.getRect(k)))return!!v.options.drop.checker&&v.options.drop.checker(g,w,I,v,k,S,P);var Z=v.options.drop.overlap;if("pointer"===Z){var vt=K(S,P,"drag"),xt=ot(g);xt.x+=vt.x,xt.y+=vt.y;var Ot=xt.x>D.left&&xt.x<D.right,kt=xt.y>D.top&&xt.y<D.bottom;I=Ot&&kt}var Mt=S.getRect(P);if(Mt&&"center"===Z){var It=Mt.left+Mt.width/2,Rt=Mt.top+Mt.height/2;I=It>=D.left&&It<=D.right&&Rt>=D.top&&Rt<=D.bottom}Mt&&_.number(Z)&&(I=Math.max(0,Math.min(D.right,Mt.right)-Math.max(D.left,Mt.left))*Math.max(0,Math.min(D.bottom,Mt.bottom)-Math.max(D.top,Mt.top))/(Mt.width*Mt.height)>=Z);v.options.drop.checker&&(I=v.options.drop.checker(g,w,I,v,k,S,P));return I}(this||v,g,w,S,P,k,D)},S.dynamicDrop=function(v){return _.bool(v)?(g.dynamicDrop=v,S):g.dynamicDrop},V(w.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),w.methodDict.drop="dropzone",g.dynamicDrop=!1,D.actions.drop=Mt.defaults},listeners:{"interactions:before-action-start":function(v){var g=v.interaction;"drag"===g.prepared.name&&(g.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(v,g){var w=v.interaction,S=(v.event,v.iEvent);if("drag"===w.prepared.name){var _=w.dropState;_.activeDrops=[],_.events={},_.activeDrops=Et(g,w.element),_.events=St(w,0,S),_.events.activate&&(wt(_.activeDrops,_.events.activate),g.fire("actions/drop:start",{interaction:w,dragEvent:S}))}},"interactions:action-move":Pt,"interactions:after-action-move":function(v,g){var w=v.interaction,S=v.iEvent;if("drag"===w.prepared.name){var _=w.dropState;_t(w,_.events),g.fire("actions/drop:move",{interaction:w,dragEvent:S}),_.events={}}},"interactions:action-end":function(v,g){if("drag"===v.interaction.prepared.name){var w=v.interaction,S=v.iEvent;Pt(v,g),_t(w,w.dropState.events),g.fire("actions/drop:end",{interaction:w,dragEvent:S})}},"interactions:stop":function(v){var g=v.interaction;if("drag"===g.prepared.name){var w=g.dropState;w&&(w.activeDrops=null,w.events=null,w.cur.dropzone=null,w.cur.element=null,w.prev.dropzone=null,w.prev.element=null,w.rejected=!1)}}},getActiveDrops:Et,getDrop:Tt,getDropEvents:St,fireDropEvents:_t,filterEventType:function(v){return 0===v.search("drag")||0===v.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}},It=Mt;function Dt(v){var g=v.interaction,w=v.iEvent,S=v.phase;if("gesture"===g.prepared.name){var P=g.pointers.map((function(v){return v.pointer})),k="start"===S,D="end"===S,I=g.interactable.options.deltaSource;if(w.touches=[P[0],P[1]],k)w.distance=pt(P,I),w.box=ut(P),w.scale=1,w.ds=0,w.angle=ft(P,I),w.da=0,g.gesture.startDistance=w.distance,g.gesture.startAngle=w.angle;else if(D||g.pointers.length<2){var Z=g.prevEvent;w.distance=Z.distance,w.box=Z.box,w.scale=Z.scale,w.ds=0,w.angle=Z.angle,w.da=0}else w.distance=pt(P,I),w.box=ut(P),w.scale=w.distance/g.gesture.startDistance,w.angle=ft(P,I),w.ds=w.scale-g.gesture.scale,w.da=w.angle-g.gesture.angle;g.gesture.distance=w.distance,g.gesture.angle=w.angle,_.number(w.scale)&&w.scale!==1/0&&!isNaN(w.scale)&&(g.gesture.scale=w.scale)}}var Rt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(g){var w=g.actions,S=g.Interactable,P=g.defaults;S.prototype.gesturable=function(g){return _.object(g)?((this||v).options.gesture.enabled=!1!==g.enabled,this.setPerAction("gesture",g),this.setOnEvents("gesture",g),this||v):_.bool(g)?((this||v).options.gesture.enabled=g,this||v):(this||v).options.gesture},w.map.gesture=Rt,w.methodDict.gesture="gesturable",P.actions.gesture=Rt.defaults},listeners:{"interactions:action-start":Dt,"interactions:action-move":Dt,"interactions:action-end":Dt,"interactions:new":function(v){v.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(v){if(!(v.interaction.pointers.length<2)){var g=v.interactable.options.gesture;if(g&&g.enabled)return v.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(v){return 0===v.search("gesture")}},Ct=Rt;function zt(v,g,w,S,P,k,D){if(!g)return!1;if(!0===g){var I=_.number(k.width)?k.width:k.right-k.left,Z=_.number(k.height)?k.height:k.bottom-k.top;if(D=Math.min(D,Math.abs(("left"===v||"right"===v?I:Z)/2)),I<0&&("left"===v?v="right":"right"===v&&(v="left")),Z<0&&("top"===v?v="bottom":"bottom"===v&&(v="top")),"left"===v){var vt=I>=0?k.left:k.right;return w.x<vt+D}if("top"===v){var xt=Z>=0?k.top:k.bottom;return w.y<xt+D}if("right"===v)return w.x>(I>=0?k.right:k.left)-D;if("bottom"===v)return w.y>(Z>=0?k.bottom:k.top)-D}return!!_.element(S)&&(_.element(g)?g===S:F(S,g,P))}function At(v){var g=v.iEvent,w=v.interaction;if("resize"===w.prepared.name&&w.resizeAxes){var S=g;w.interactable.options.resize.square?("y"===w.resizeAxes?S.delta.x=S.delta.y:S.delta.y=S.delta.x,S.axes="xy"):(S.axes=w.resizeAxes,"x"===w.resizeAxes?S.delta.y=0:"y"===w.resizeAxes&&(S.delta.x=0))}}var jt,Ft,Yt={id:"actions/resize",before:["actions/drag"],install:function(g){var w=g.actions,S=g.browser,P=g.Interactable,k=g.defaults;Yt.cursors=function(v){return v.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(S),Yt.defaultMargin=S.supportsTouch||S.supportsPointerEvent?20:10,P.prototype.resizable=function(w){return function(v,g,w){return _.object(g)?(v.options.resize.enabled=!1!==g.enabled,v.setPerAction("resize",g),v.setOnEvents("resize",g),_.string(g.axis)&&/^x$|^y$|^xy$/.test(g.axis)?v.options.resize.axis=g.axis:null===g.axis&&(v.options.resize.axis=w.defaults.actions.resize.axis),_.bool(g.preserveAspectRatio)?v.options.resize.preserveAspectRatio=g.preserveAspectRatio:_.bool(g.square)&&(v.options.resize.square=g.square),v):_.bool(g)?(v.options.resize.enabled=g,v):v.options.resize}(this||v,w,g)},w.map.resize=Yt,w.methodDict.resize="resizable",k.actions.resize=Yt.defaults},listeners:{"interactions:new":function(v){v.interaction.resizeAxes="xy"},"interactions:action-start":function(v){!function(v){var g=v.iEvent,w=v.interaction;if("resize"===w.prepared.name&&w.prepared.edges){var S=g,_=w.rect;w._rects={start:V({},_),corrected:V({},_),previous:V({},_),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},S.edges=w.prepared.edges,S.rect=w._rects.corrected,S.deltaRect=w._rects.delta}}(v),At(v)},"interactions:action-move":function(v){!function(v){var g=v.iEvent,w=v.interaction;if("resize"===w.prepared.name&&w.prepared.edges){var S=g,_=w.interactable.options.resize.invert,P="reposition"===_||"negate"===_,k=w.rect,D=w._rects,I=D.start,Z=D.corrected,vt=D.delta,xt=D.previous;if(V(xt,Z),P){if(V(Z,k),"reposition"===_){if(Z.top>Z.bottom){var Ot=Z.top;Z.top=Z.bottom,Z.bottom=Ot}if(Z.left>Z.right){var kt=Z.left;Z.left=Z.right,Z.right=kt}}}else Z.top=Math.min(k.top,I.bottom),Z.bottom=Math.max(k.bottom,I.top),Z.left=Math.min(k.left,I.right),Z.right=Math.max(k.right,I.left);for(var Mt in Z.width=Z.right-Z.left,Z.height=Z.bottom-Z.top,Z)vt[Mt]=Z[Mt]-xt[Mt];S.edges=w.prepared.edges,S.rect=Z,S.deltaRect=vt}}(v),At(v)},"interactions:action-end":function(v){var g=v.iEvent,w=v.interaction;if("resize"===w.prepared.name&&w.prepared.edges){var S=g;S.edges=w.prepared.edges,S.rect=w._rects.corrected,S.deltaRect=w._rects.delta}},"auto-start:check":function(v){var g=v.interaction,w=v.interactable,S=v.element,P=v.rect,k=v.buttons;if(P){var D=V({},g.coords.cur.page),I=w.options.resize;if(I&&I.enabled&&(!g.pointerIsDown||!/mouse|pointer/.test(g.pointerType)||0!=(k&I.mouseButtons))){if(_.object(I.edges)){var Z={left:!1,right:!1,top:!1,bottom:!1};for(var vt in Z)Z[vt]=zt(vt,I.edges[vt],D,g._latestPointer.eventTarget,S,P,I.margin||Yt.defaultMargin);Z.left=Z.left&&!Z.right,Z.top=Z.top&&!Z.bottom,(Z.left||Z.right||Z.top||Z.bottom)&&(v.action={name:"resize",edges:Z})}else{var xt="y"!==I.axis&&D.x>P.right-Yt.defaultMargin,Ot="x"!==I.axis&&D.y>P.bottom-Yt.defaultMargin;(xt||Ot)&&(v.action={name:"resize",axes:(xt?"x":"")+(Ot?"y":"")})}return!v.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(v){var g=v.edges,w=v.axis,S=v.name,_=Yt.cursors,P=null;if(w)P=_[S+w];else if(g){for(var k="",D=0,I=["top","bottom","left","right"];D<I.length;D++){var Z=I[D];g[Z]&&(k+=Z)}P=_[k]}return P},filterEventType:function(v){return 0===v.search("resize")},defaultMargin:null},Gt=Yt,Xt={id:"actions",install:function(v){v.usePlugin(Ct),v.usePlugin(Gt),v.usePlugin(k),v.usePlugin(It)}},Lt=0;var Wt={request:function(v){return jt(v)},cancel:function(v){return Ft(v)},init:function(v){if(jt=v.requestAnimationFrame,Ft=v.cancelAnimationFrame,!jt)for(var g=["ms","moz","webkit","o"],w=0;w<g.length;w++){var S=g[w];jt=v["".concat(S,"RequestAnimationFrame")],Ft=v["".concat(S,"CancelAnimationFrame")]||v["".concat(S,"CancelRequestAnimationFrame")]}jt=jt&&jt.bind(v),Ft=Ft&&Ft.bind(v),jt||(jt=function(g){var w=Date.now(),S=Math.max(0,16-(w-Lt)),_=v.setTimeout((function(){g(w+S)}),S);return Lt=w+S,_},Ft=function(v){return clearTimeout(v)})}};var qt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(v){qt.isScrolling=!0,Wt.cancel(qt.i),v.autoScroll=qt,qt.interaction=v,qt.prevTime=qt.now(),qt.i=Wt.request(qt.scroll)},stop:function(){qt.isScrolling=!1,qt.interaction&&(qt.interaction.autoScroll=null),Wt.cancel(qt.i)},scroll:function(){var v=qt.interaction,g=v.interactable,w=v.element,S=v.prepared.name,P=g.options[S].autoScroll,k=Bt(P.container,g,w),D=qt.now(),I=(D-qt.prevTime)/1e3,Z=P.speed*I;if(Z>=1){var vt={x:qt.x*Z,y:qt.y*Z};if(vt.x||vt.y){var xt=Vt(k);_.window(k)?k.scrollBy(vt.x,vt.y):k&&(k.scrollLeft+=vt.x,k.scrollTop+=vt.y);var Ot=Vt(k),kt={x:Ot.x-xt.x,y:Ot.y-xt.y};(kt.x||kt.y)&&g.fire({type:"autoscroll",target:w,interactable:g,delta:kt,interaction:v,container:k})}qt.prevTime=D}qt.isScrolling&&(Wt.cancel(qt.i),qt.i=Wt.request(qt.scroll))},check:function(v,g){var w;return null==(w=v.options[g].autoScroll)?void 0:w.enabled},onInteractionMove:function(v){var g=v.interaction,w=v.pointer;if(g.interacting()&&qt.check(g.interactable,g.prepared.name))if(g.simulation)qt.x=qt.y=0;else{var S,P,k,D,I=g.interactable,Z=g.element,vt=g.prepared.name,xt=I.options[vt].autoScroll,Ot=Bt(xt.container,I,Z);if(_.window(Ot))D=w.clientX<qt.margin,S=w.clientY<qt.margin,P=w.clientX>Ot.innerWidth-qt.margin,k=w.clientY>Ot.innerHeight-qt.margin;else{var kt=Y(Ot);D=w.clientX<kt.left+qt.margin,S=w.clientY<kt.top+qt.margin,P=w.clientX>kt.right-qt.margin,k=w.clientY>kt.bottom-qt.margin}qt.x=P?1:D?-1:0,qt.y=k?1:S?-1:0,qt.isScrolling||(qt.margin=xt.margin,qt.speed=xt.speed,qt.start(g))}}};function Bt(v,g,w){return(_.string(v)?W(v,g,w):v)||y(w)}function Vt(v){return _.window(v)&&(v=window.document.body),{x:v.scrollLeft,y:v.scrollTop}}var $t={id:"auto-scroll",install:function(v){var g=v.defaults,w=v.actions;v.autoScroll=qt,qt.now=function(){return v.now()},w.phaselessTypes.autoscroll=!0,g.perAction.autoScroll=qt.defaults},listeners:{"interactions:new":function(v){v.interaction.autoScroll=null},"interactions:destroy":function(v){v.interaction.autoScroll=null,qt.stop(),qt.interaction&&(qt.interaction=null)},"interactions:stop":qt.stop,"interactions:action-move":function(v){return qt.onInteractionMove(v)}}},oe=$t;function Nt(g,w){var _=!1;return function(){return _||(S.console.warn(w),_=!0),g.apply(this||v,arguments)}}function Ut(v,g){return v.name=g.name,v.axis=g.axis,v.edges=g.edges,v}function Ht(g){return _.bool(g)?((this||v).options.styleCursor=g,this||v):null===g?(delete(this||v).options.styleCursor,this||v):(this||v).options.styleCursor}function Kt(g){return _.func(g)?((this||v).options.actionChecker=g,this||v):null===g?(delete(this||v).options.actionChecker,this||v):(this||v).options.actionChecker}var ae={id:"auto-start/interactableMethods",install:function(g){var w=g.Interactable;w.prototype.getAction=function(w,S,_,P){var k=function(v,g,w,S,_){var P=v.getRect(S),k=g.buttons||{0:1,1:4,3:8,4:16}[g.button],D={action:null,interactable:v,interaction:w,element:S,rect:P,buttons:k};return _.fire("auto-start:check",D),D.action}(this||v,S,_,P,g);return(this||v).options.actionChecker?(this||v).options.actionChecker(w,S,k,this||v,P,_):k},w.prototype.ignoreFrom=Nt((function(v){return this._backCompatOption("ignoreFrom",v)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),w.prototype.allowFrom=Nt((function(v){return this._backCompatOption("allowFrom",v)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),w.prototype.actionChecker=Kt,w.prototype.styleCursor=Ht}};function Jt(v,g,w,S,_){return g.testIgnoreAllow(g.options[v.name],w,S)&&g.options[v.name].enabled&&ee(g,w,v,_)?v:null}function Qt(v,g,w,S,_,P,k){for(var D=0,I=S.length;D<I;D++){var Z=S[D],vt=_[D],xt=Z.getAction(g,w,v,vt);if(xt){var Ot=Jt(xt,Z,vt,P,k);if(Ot)return{action:Ot,interactable:Z,element:vt}}}return{action:null,interactable:null,element:null}}function Zt(v,g,w,S,P){var k=[],D=[],I=S;function c(v){k.push(v),D.push(I)}for(;_.element(I);){k=[],D=[],P.interactables.forEachMatch(I,c);var Z=Qt(v,g,w,k,D,S,P);if(Z.action&&!Z.interactable.options[Z.action.name].manualStart)return Z;I=A(I)}return{action:null,interactable:null,element:null}}function te(v,g,w){var S=g.action,_=g.interactable,P=g.element;S=S||{name:null},v.interactable=_,v.element=P,Ut(v.prepared,S),v.rect=_&&S.name?_.getRect(P):null,ie(v,w),w.fire("autoStart:prepared",{interaction:v})}function ee(v,g,w,S){var _=v.options,P=_[w.name].max,k=_[w.name].maxPerElement,D=S.autoStart.maxInteractions,I=0,Z=0,vt=0;if(!(P&&k&&D))return!1;for(var xt=0,Ot=S.interactions.list;xt<Ot.length;xt++){var kt=Ot[xt],Mt=kt.prepared.name;if(kt.interacting()){if(++I>=D)return!1;if(kt.interactable===v){if((Z+=Mt===w.name?1:0)>=P)return!1;if(kt.element===g&&(vt++,Mt===w.name&&vt>=k))return!1}}}return D>0}function ne(g,w){return _.number(g)?(w.autoStart.maxInteractions=g,this||v):w.autoStart.maxInteractions}function re(v,g,w){var S=w.autoStart.cursorElement;S&&S!==v&&(S.style.cursor=""),v.ownerDocument.documentElement.style.cursor=g,v.style.cursor=g,w.autoStart.cursorElement=g?v:null}function ie(v,g){var w=v.interactable,S=v.element,P=v.prepared;if("mouse"===v.pointerType&&w&&w.options.styleCursor){var k="";if(P.name){var D=w.options[P.name].cursorChecker;k=_.func(D)?D(P,w,S,v._interacting):g.actions.map[P.name].getCursor(P)}re(v.element,k||"",g)}else g.autoStart.cursorElement&&re(g.autoStart.cursorElement,"",g)}var se={id:"auto-start/base",before:["actions"],install:function(v){var g=v.interactStatic,w=v.defaults;v.usePlugin(ae),w.base.actionChecker=null,w.base.styleCursor=!0,V(w.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),g.maxInteractions=function(g){return ne(g,v)},v.autoStart={maxInteractions:1/0,withinInteractionLimit:ee,cursorElement:null}},listeners:{"interactions:down":function(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget;w.interacting()||te(w,Zt(w,S,_,P,g),g)},"interactions:move":function(v,g){!function(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget;"mouse"!==w.pointerType||w.pointerIsDown||w.interacting()||te(w,Zt(w,S,_,P,g),g)}(v,g),function(v,g){var w=v.interaction;if(w.pointerIsDown&&!w.interacting()&&w.pointerWasMoved&&w.prepared.name){g.fire("autoStart:before-start",v);var S=w.interactable,_=w.prepared.name;_&&S&&(S.options[_].manualStart||!ee(S,w.element,w.prepared,g)?w.stop():(w.start(w.prepared,S,w.element),ie(w,g)))}}(v,g)},"interactions:stop":function(v,g){var w=v.interaction,S=w.interactable;S&&S.options.styleCursor&&re(w.element,"",g)}},maxInteractions:ne,withinInteractionLimit:ee,validateAction:Jt},le=se;var ue={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(v,g){var w=v.interaction,S=v.eventTarget,P=v.dx,k=v.dy;if("drag"===w.prepared.name){var D=Math.abs(P),I=Math.abs(k),Z=w.interactable.options.drag,vt=Z.startAxis,xt=D>I?"x":D<I?"y":"xy";if(w.prepared.axis="start"===Z.lockAxis?xt[0]:Z.lockAxis,"xy"!==xt&&"xy"!==vt&&vt!==xt){w.prepared.name=null;for(var Ot=S,f=function(v){if(v!==w.interactable){var _=w.interactable.options.drag;if(!_.manualStart&&v.testIgnoreAllow(_,Ot,S)){var P=v.getAction(w.downPointer,w.downEvent,w,Ot);if(P&&"drag"===P.name&&function(v,g){if(!g)return!1;var w=g.options.drag.startAxis;return"xy"===v||"xy"===w||w===v}(xt,v)&&le.validateAction(P,v,Ot,S,g))return v}}};_.element(Ot);){var kt=g.interactables.forEachMatch(Ot,f);if(kt){w.prepared.name="drag",w.interactable=kt,w.element=Ot;break}Ot=A(Ot)}}}}}};function ce(v){var g=v.prepared&&v.prepared.name;if(!g)return null;var w=v.interactable.options;return w[g].hold||w[g].delay}var pe={id:"auto-start/hold",install:function(v){var g=v.defaults;v.usePlugin(le),g.perAction.hold=0,g.perAction.delay=0},listeners:{"interactions:new":function(v){v.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(v){var g=v.interaction,w=ce(g);w>0&&(g.autoStartHoldTimer=setTimeout((function(){g.start(g.prepared,g.interactable,g.element)}),w))},"interactions:move":function(v){var g=v.interaction,w=v.duplicate;g.autoStartHoldTimer&&g.pointerWasMoved&&!w&&(clearTimeout(g.autoStartHoldTimer),g.autoStartHoldTimer=null)},"autoStart:before-start":function(v){var g=v.interaction;ce(g)>0&&(g.prepared.name=null)}},getHoldDuration:ce},he=pe,me={id:"auto-start",install:function(v){v.usePlugin(le),v.usePlugin(he),v.usePlugin(ue)}},fe=function(g){return/^(always|never|auto)$/.test(g)?((this||v).options.preventDefault=g,this||v):_.bool(g)?((this||v).options.preventDefault=g?"always":"never",this||v):(this||v).options.preventDefault};function de(v){var g=v.interaction,w=v.event;g.interactable&&g.interactable.checkAndPreventDefault(w)}var we={id:"core/interactablePreventDefault",install:function(g){var w=g.Interactable;w.prototype.preventDefault=fe,w.prototype.checkAndPreventDefault=function(w){return function(v,g,w){var S=v.options.preventDefault;if("never"!==S)if("always"!==S){if(g.events.supportsPassive&&/^touch(start|move)$/.test(w.type)){var P=y(w.target).document,k=g.getDocOptions(P);if(!k||!k.events||!1!==k.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(w.type)||_.element(w.target)&&R(w.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||w.preventDefault()}else w.preventDefault()}(this||v,g,w)},g.interactions.docEvents.push({type:"dragstart",listener:function(v){for(var w=0,S=g.interactions.list;w<S.length;w++){var _=S[w];if(_.element&&(_.element===v.target||M(_.element,v.target)))return void _.interactable.checkAndPreventDefault(v)}}})},listeners:["down","move","up","cancel"].reduce((function(v,g){return v["interactions:".concat(g)]=de,v}),{})};function ve(v,g){if(g.phaselessTypes[v])return!0;for(var w in g.map)if(0===v.indexOf(w)&&v.substr(w.length)in g.phases)return!0;return!1}function ge(v){var g={};for(var w in v){var S=v[w];_.plainObject(S)?g[w]=ge(S):_.array(S)?g[w]=mt(S):g[w]=S}return g}var Ee=function(){function t(g){r(this||v,t),(this||v).states=[],(this||v).startOffset={left:0,right:0,top:0,bottom:0},(this||v).startDelta=void 0,(this||v).result=void 0,(this||v).endResult=void 0,(this||v).startEdges=void 0,(this||v).edges=void 0,(this||v).interaction=void 0,(this||v).interaction=g,(this||v).result=ye(),(this||v).edges={left:!1,right:!1,top:!1,bottom:!1}}return o(t,[{key:"start",value:function(g,w){var S,_,P=g.phase,k=(this||v).interaction,D=function(v){var g=v.interactable.options[v.prepared.name],w=g.modifiers;return w&&w.length?w:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(v){var w=g[v];return w&&w.enabled&&{options:w,methods:w._methods}})).filter((function(v){return!!v}))}(k);this.prepareStates(D),(this||v).startEdges=V({},k.edges),(this||v).edges=V({},(this||v).startEdges),(this||v).startOffset=(S=k.rect,_=w,S?{left:_.x-S.left,top:_.y-S.top,right:S.right-_.x,bottom:S.bottom-_.y}:{left:0,top:0,right:0,bottom:0}),(this||v).startDelta={x:0,y:0};var I=this.fillArg({phase:P,pageCoords:w,preEnd:!1});return(this||v).result=ye(),this.startAll(I),(this||v).result=this.setAll(I)}},{key:"fillArg",value:function(g){var w=(this||v).interaction;return g.interaction=w,g.interactable=w.interactable,g.element=w.element,g.rect||(g.rect=w.rect),g.edges||(g.edges=(this||v).startEdges),g.startOffset=(this||v).startOffset,g}},{key:"startAll",value:function(g){for(var w=0,S=(this||v).states;w<S.length;w++){var _=S[w];_.methods.start&&(g.state=_,_.methods.start(g))}}},{key:"setAll",value:function(g){var w=g.phase,S=g.preEnd,_=g.skipModifiers,P=g.rect,k=g.edges;g.coords=V({},g.pageCoords),g.rect=V({},P),g.edges=V({},k);for(var D=_?(this||v).states.slice(_):(this||v).states,I=ye(g.coords,g.rect),Z=0;Z<D.length;Z++){var vt,xt=D[Z],Ot=xt.options,kt=V({},g.coords),Mt=null;null!=(vt=xt.methods)&&vt.set&&this.shouldDo(Ot,S,w)&&(g.state=xt,Mt=xt.methods.set(g),H(g.edges,g.rect,{x:g.coords.x-kt.x,y:g.coords.y-kt.y})),I.eventProps.push(Mt)}V((this||v).edges,g.edges),I.delta.x=g.coords.x-g.pageCoords.x,I.delta.y=g.coords.y-g.pageCoords.y,I.rectDelta.left=g.rect.left-P.left,I.rectDelta.right=g.rect.right-P.right,I.rectDelta.top=g.rect.top-P.top,I.rectDelta.bottom=g.rect.bottom-P.bottom;var It=(this||v).result.coords,Rt=(this||v).result.rect;if(It&&Rt){var Ct=I.rect.left!==Rt.left||I.rect.right!==Rt.right||I.rect.top!==Rt.top||I.rect.bottom!==Rt.bottom;I.changed=Ct||It.x!==I.coords.x||It.y!==I.coords.y}return I}},{key:"applyToInteraction",value:function(g){var w=(this||v).interaction,S=g.phase,_=w.coords.cur,P=w.coords.start,k=(this||v).result,D=(this||v).startDelta,I=k.delta;"start"===S&&V((this||v).startDelta,k.delta);for(var Z=0,vt=[[P,D],[_,I]];Z<vt.length;Z++){var xt=vt[Z],Ot=xt[0],kt=xt[1];Ot.page.x+=kt.x,Ot.page.y+=kt.y,Ot.client.x+=kt.x,Ot.client.y+=kt.y}var Mt=(this||v).result.rectDelta,It=g.rect||w.rect;It.left+=Mt.left,It.right+=Mt.right,It.top+=Mt.top,It.bottom+=Mt.bottom,It.width=It.right-It.left,It.height=It.bottom-It.top}},{key:"setAndApply",value:function(g){var w=(this||v).interaction,S=g.phase,_=g.preEnd,P=g.skipModifiers,k=this.setAll(this.fillArg({preEnd:_,phase:S,pageCoords:g.modifiedCoords||w.coords.cur.page}));if((this||v).result=k,!k.changed&&(!P||P<(this||v).states.length)&&w.interacting())return!1;if(g.modifiedCoords){var D=w.coords.cur.page,I={x:g.modifiedCoords.x-D.x,y:g.modifiedCoords.y-D.y};k.coords.x+=I.x,k.coords.y+=I.y,k.delta.x+=I.x,k.delta.y+=I.y}this.applyToInteraction(g)}},{key:"beforeEnd",value:function(g){var w=g.interaction,S=g.event,_=(this||v).states;if(_&&_.length){for(var P=!1,k=0;k<_.length;k++){var D=_[k];g.state=D;var I=D.options,Z=D.methods,vt=Z.beforeEnd&&Z.beforeEnd(g);if(vt)return(this||v).endResult=vt,!1;P=P||!P&&this.shouldDo(I,!0,g.phase,!0)}P&&w.move({event:S,preEnd:!0})}}},{key:"stop",value:function(g){var w=g.interaction;if((this||v).states&&(this||v).states.length){var S=V({states:(this||v).states,interactable:w.interactable,element:w.element,rect:null},g);this.fillArg(S);for(var _=0,P=(this||v).states;_<P.length;_++){var k=P[_];S.state=k,k.methods.stop&&k.methods.stop(S)}(this||v).states=null,(this||v).endResult=null}}},{key:"prepareStates",value:function(g){(this||v).states=[];for(var w=0;w<g.length;w++){var S=g[w],_=S.options,P=S.methods,k=S.name;(this||v).states.push({options:_,methods:P,index:w,name:k})}return(this||v).states}},{key:"restoreInteractionCoords",value:function(v){var g=v.interaction,w=g.coords,S=g.rect,_=g.modification;if(_.result){for(var P=_.startDelta,k=_.result,D=k.delta,I=k.rectDelta,Z=0,vt=[[w.start,P],[w.cur,D]];Z<vt.length;Z++){var xt=vt[Z],Ot=xt[0],kt=xt[1];Ot.page.x-=kt.x,Ot.page.y-=kt.y,Ot.client.x-=kt.x,Ot.client.y-=kt.y}S.left-=I.left,S.right-=I.right,S.top-=I.top,S.bottom-=I.bottom}}},{key:"shouldDo",value:function(v,g,w,S){return!(!v||!1===v.enabled||S&&!v.endOnly||v.endOnly&&!g||"start"===w&&!v.setStart)}},{key:"copyFrom",value:function(g){(this||v).startOffset=g.startOffset,(this||v).startDelta=g.startDelta,(this||v).startEdges=g.startEdges,(this||v).edges=g.edges,(this||v).states=g.states.map((function(v){return ge(v)})),(this||v).result=ye(V({},g.result.coords),V({},g.result.rect))}},{key:"destroy",value:function(){for(var g in this||v)(this||v)[g]=null}}]),t}();function ye(v,g){return{rect:g,coords:v,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function be(v,g){var w=v.defaults,S={start:v.start,set:v.set,beforeEnd:v.beforeEnd,stop:v.stop},i=function(v){var _=v||{};for(var P in _.enabled=!1!==_.enabled,w)P in _||(_[P]=w[P]);var k={options:_,methods:S,name:g,enable:function(){return _.enabled=!0,k},disable:function(){return _.enabled=!1,k}};return k};return g&&"string"==typeof g&&(i._defaults=w,i._methods=S),i}function xe(v){var g=v.iEvent,w=v.interaction.modification.result;w&&(g.modifiers=w.eventProps)}var Te={id:"modifiers/base",before:["actions"],install:function(v){v.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(v){var g=v.interaction;g.modification=new Ee(g)},"interactions:before-action-start":function(v){var g=v.interaction,w=v.interaction.modification;w.start(v,g.coords.start.page),g.edges=w.edges,w.applyToInteraction(v)},"interactions:before-action-move":function(v){var g=v.interaction,w=g.modification,S=w.setAndApply(v);return g.edges=w.edges,S},"interactions:before-action-end":function(v){var g=v.interaction,w=g.modification,S=w.beforeEnd(v);return g.edges=w.startEdges,S},"interactions:action-start":xe,"interactions:action-move":xe,"interactions:action-end":xe,"interactions:after-action-start":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:after-action-move":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:stop":function(v){return v.interaction.modification.stop(v)}}},Se=Te,_e={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Pe=function(g){s(n,g);var w=p(n);function n(g,S,_,P,k,D,I){var Z;r(this||v,n),(Z=w.call(this||v,g)).relatedTarget=null,Z.screenX=void 0,Z.screenY=void 0,Z.button=void 0,Z.buttons=void 0,Z.ctrlKey=void 0,Z.shiftKey=void 0,Z.altKey=void 0,Z.metaKey=void 0,Z.page=void 0,Z.client=void 0,Z.delta=void 0,Z.rect=void 0,Z.x0=void 0,Z.y0=void 0,Z.t0=void 0,Z.dt=void 0,Z.duration=void 0,Z.clientX0=void 0,Z.clientY0=void 0,Z.velocity=void 0,Z.speed=void 0,Z.swipe=void 0,Z.axes=void 0,Z.preEnd=void 0,k=k||g.element;var vt=g.interactable,xt=(vt&&vt.options||_e).deltaSource,Ot=K(vt,k,_),kt="start"===P,Mt="end"===P,It=kt?u(Z):g.prevEvent,Rt=kt?g.coords.start:Mt?{page:It.page,client:It.client,timeStamp:g.coords.cur.timeStamp}:g.coords.cur;return Z.page=V({},Rt.page),Z.client=V({},Rt.client),Z.rect=V({},g.rect),Z.timeStamp=Rt.timeStamp,Mt||(Z.page.x-=Ot.x,Z.page.y-=Ot.y,Z.client.x-=Ot.x,Z.client.y-=Ot.y),Z.ctrlKey=S.ctrlKey,Z.altKey=S.altKey,Z.shiftKey=S.shiftKey,Z.metaKey=S.metaKey,Z.button=S.button,Z.buttons=S.buttons,Z.target=k,Z.currentTarget=k,Z.preEnd=D,Z.type=I||_+(P||""),Z.interactable=vt,Z.t0=kt?g.pointers[g.pointers.length-1].downTime:It.t0,Z.x0=g.coords.start.page.x-Ot.x,Z.y0=g.coords.start.page.y-Ot.y,Z.clientX0=g.coords.start.client.x-Ot.x,Z.clientY0=g.coords.start.client.y-Ot.y,Z.delta=kt||Mt?{x:0,y:0}:{x:Z[xt].x-It[xt].x,y:Z[xt].y-It[xt].y},Z.dt=g.coords.delta.timeStamp,Z.duration=Z.timeStamp-Z.t0,Z.velocity=V({},g.coords.velocity[xt]),Z.speed=Q(Z.velocity.x,Z.velocity.y),Z.swipe=Mt||"inertiastart"===P?Z.getSwipe():null,Z}return o(n,[{key:"getSwipe",value:function(){var g=(this||v)._interaction;if(g.prevEvent.speed<600||(this||v).timeStamp-g.prevEvent.timeStamp>150)return null;var w=180*Math.atan2(g.prevEvent.velocityY,g.prevEvent.velocityX)/Math.PI;w<0&&(w+=360);var S=112.5<=w&&w<247.5,_=202.5<=w&&w<337.5;return{up:_,down:!_&&22.5<=w&&w<157.5,left:S,right:!S&&(292.5<=w||w<67.5),angle:w,speed:g.prevEvent.speed,velocity:{x:g.prevEvent.velocityX,y:g.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){(this||v).immediatePropagationStopped=(this||v).propagationStopped=!0}},{key:"stopPropagation",value:function(){(this||v).propagationStopped=!0}}]),n}(Ot);Object.defineProperties(Pe.prototype,{pageX:{get:function(){return(this||v).page.x},set:function(g){(this||v).page.x=g}},pageY:{get:function(){return(this||v).page.y},set:function(g){(this||v).page.y=g}},clientX:{get:function(){return(this||v).client.x},set:function(g){(this||v).client.x=g}},clientY:{get:function(){return(this||v).client.y},set:function(g){(this||v).client.y=g}},dx:{get:function(){return(this||v).delta.x},set:function(g){(this||v).delta.x=g}},dy:{get:function(){return(this||v).delta.y},set:function(g){(this||v).delta.y=g}},velocityX:{get:function(){return(this||v).velocity.x},set:function(g){(this||v).velocity.x=g}},velocityY:{get:function(){return(this||v).velocity.y},set:function(g){(this||v).velocity.y=g}}});var Oe=o((function t(g,w,S,_,P){r(this||v,t),(this||v).id=void 0,(this||v).pointer=void 0,(this||v).event=void 0,(this||v).downTime=void 0,(this||v).downTarget=void 0,(this||v).id=g,(this||v).pointer=w,(this||v).event=S,(this||v).downTime=_,(this||v).downTarget=P})),ke=function(v){return v.interactable="",v.element="",v.prepared="",v.pointerIsDown="",v.pointerWasMoved="",v._proxy="",v}({}),De=function(v){return v.start="",v.move="",v.end="",v.stop="",v.interacting="",v}({}),Ve=0,Re=function(){function t(g){var w=this||v,S=g.pointerType,_=g.scopeFire;r(this||v,t),(this||v).interactable=null,(this||v).element=null,(this||v).rect=null,(this||v)._rects=void 0,(this||v).edges=null,(this||v)._scopeFire=void 0,(this||v).prepared={name:null,axis:null,edges:null},(this||v).pointerType=void 0,(this||v).pointers=[],(this||v).downEvent=null,(this||v).downPointer={},(this||v)._latestPointer={pointer:null,event:null,eventTarget:null},(this||v).prevEvent=null,(this||v).pointerIsDown=!1,(this||v).pointerWasMoved=!1,(this||v)._interacting=!1,(this||v)._ending=!1,(this||v)._stopped=!0,(this||v)._proxy=void 0,(this||v).simulation=null,(this||v).doMove=Nt((function(v){this.move(v)}),"The interaction.doMove() method has been renamed to interaction.move()"),(this||v).coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},(this||v)._id=Ve++,(this||v)._scopeFire=_,(this||v).pointerType=S;var P=this||v;(this||v)._proxy={};var s=function(v){Object.defineProperty(w._proxy,v,{get:function(){return P[v]}})};for(var k in ke)s(k);var l=function(v){Object.defineProperty(w._proxy,v,{value:function(){return P[v].apply(P,arguments)}})};for(var D in De)l(D);this._scopeFire("interactions:new",{interaction:this||v})}return o(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(g,w,S){var _=this.updatePointer(g,w,S,!0),P=(this||v).pointers[_];this._scopeFire("interactions:down",{pointer:g,event:w,eventTarget:S,pointerIndex:_,pointerInfo:P,type:"down",interaction:this||v})}},{key:"start",value:function(g,w,S){return!(this.interacting()||!(this||v).pointerIsDown||(this||v).pointers.length<("gesture"===g.name?2:1)||!w.options[g.name].enabled)&&(Ut((this||v).prepared,g),(this||v).interactable=w,(this||v).element=S,(this||v).rect=w.getRect(S),(this||v).edges=(this||v).prepared.edges?V({},(this||v).prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},(this||v)._stopped=!1,(this||v)._interacting=this._doPhase({interaction:this||v,event:(this||v).downEvent,phase:"start"})&&!(this||v)._stopped,(this||v)._interacting)}},{key:"pointerMove",value:function(g,w,S){(this||v).simulation||(this||v).modification&&(this||v).modification.endResult||this.updatePointer(g,w,S,!1);var _,P,k=(this||v).coords.cur.page.x===(this||v).coords.prev.page.x&&(this||v).coords.cur.page.y===(this||v).coords.prev.page.y&&(this||v).coords.cur.client.x===(this||v).coords.prev.client.x&&(this||v).coords.cur.client.y===(this||v).coords.prev.client.y;(this||v).pointerIsDown&&!(this||v).pointerWasMoved&&(_=(this||v).coords.cur.client.x-(this||v).coords.start.client.x,P=(this||v).coords.cur.client.y-(this||v).coords.start.client.y,(this||v).pointerWasMoved=Q(_,P)>(this||v).pointerMoveTolerance);var D,I,Z,vt=this.getPointerIndex(g),xt={pointer:g,pointerIndex:vt,pointerInfo:(this||v).pointers[vt],event:w,type:"move",eventTarget:S,dx:_,dy:P,duplicate:k,interaction:this||v};k||(D=(this||v).coords.velocity,I=(this||v).coords.delta,Z=Math.max(I.timeStamp/1e3,.001),D.page.x=I.page.x/Z,D.page.y=I.page.y/Z,D.client.x=I.client.x/Z,D.client.y=I.client.y/Z,D.timeStamp=Z),this._scopeFire("interactions:move",xt),k||(this||v).simulation||(this.interacting()&&(xt.type=null,this.move(xt)),(this||v).pointerWasMoved&&et((this||v).coords.prev,(this||v).coords.cur))}},{key:"move",value:function(g){g&&g.event||nt((this||v).coords.delta),(g=V({pointer:(this||v)._latestPointer.pointer,event:(this||v)._latestPointer.event,eventTarget:(this||v)._latestPointer.eventTarget,interaction:this||v},g||{})).phase="move",this._doPhase(g)}},{key:"pointerUp",value:function(g,w,S,_){var P=this.getPointerIndex(g);-1===P&&(P=this.updatePointer(g,w,S,!1));var k=/cancel$/i.test(w.type)?"cancel":"up";this._scopeFire("interactions:".concat(k),{pointer:g,pointerIndex:P,pointerInfo:(this||v).pointers[P],event:w,eventTarget:S,type:k,curEventTarget:_,interaction:this||v}),(this||v).simulation||this.end(w),this.removePointer(g,w)}},{key:"documentBlur",value:function(g){this.end(g),this._scopeFire("interactions:blur",{event:g,type:"blur",interaction:this||v})}},{key:"end",value:function(g){var w;(this||v)._ending=!0,g=g||(this||v)._latestPointer.event,this.interacting()&&(w=this._doPhase({event:g,interaction:this||v,phase:"end"})),(this||v)._ending=!1,!0===w&&this.stop()}},{key:"currentAction",value:function(){return(this||v)._interacting?(this||v).prepared.name:null}},{key:"interacting",value:function(){return(this||v)._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this||v}),(this||v).interactable=(this||v).element=null,(this||v)._interacting=!1,(this||v)._stopped=!0,(this||v).prepared.name=(this||v).prevEvent=null}},{key:"getPointerIndex",value:function(g){var w=at(g);return"mouse"===(this||v).pointerType||"pen"===(this||v).pointerType?(this||v).pointers.length-1:yt((this||v).pointers,(function(v){return v.id===w}))}},{key:"getPointerInfo",value:function(g){return(this||v).pointers[this.getPointerIndex(g)]}},{key:"updatePointer",value:function(g,w,S,_){var P,k,D,I=at(g),Z=this.getPointerIndex(g),vt=(this||v).pointers[Z];return _=!1!==_&&(_||/(down|start)$/i.test(w.type)),vt?vt.pointer=g:(vt=new Oe(I,g,w,null,null),Z=(this||v).pointers.length,(this||v).pointers.push(vt)),st((this||v).coords.cur,(this||v).pointers.map((function(v){return v.pointer})),this._now()),P=(this||v).coords.delta,k=(this||v).coords.prev,D=(this||v).coords.cur,P.page.x=D.page.x-k.page.x,P.page.y=D.page.y-k.page.y,P.client.x=D.client.x-k.client.x,P.client.y=D.client.y-k.client.y,P.timeStamp=D.timeStamp-k.timeStamp,_&&((this||v).pointerIsDown=!0,vt.downTime=(this||v).coords.cur.timeStamp,vt.downTarget=S,tt((this||v).downPointer,g),this.interacting()||(et((this||v).coords.start,(this||v).coords.cur),et((this||v).coords.prev,(this||v).coords.cur),(this||v).downEvent=w,(this||v).pointerWasMoved=!1)),this._updateLatestPointer(g,w,S),this._scopeFire("interactions:update-pointer",{pointer:g,event:w,eventTarget:S,down:_,pointerInfo:vt,pointerIndex:Z,interaction:this||v}),Z}},{key:"removePointer",value:function(g,w){var S=this.getPointerIndex(g);if(-1!==S){var _=(this||v).pointers[S];this._scopeFire("interactions:remove-pointer",{pointer:g,event:w,eventTarget:null,pointerIndex:S,pointerInfo:_,interaction:this||v}),(this||v).pointers.splice(S,1),(this||v).pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(g,w,S){(this||v)._latestPointer.pointer=g,(this||v)._latestPointer.event=w,(this||v)._latestPointer.eventTarget=S}},{key:"destroy",value:function(){(this||v)._latestPointer.pointer=null,(this||v)._latestPointer.event=null,(this||v)._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(g,w,S,_){return new Pe(this||v,g,(this||v).prepared.name,w,(this||v).element,S,_)}},{key:"_fireEvent",value:function(g){var w;null==(w=(this||v).interactable)||w.fire(g),(!(this||v).prevEvent||g.timeStamp>=(this||v).prevEvent.timeStamp)&&((this||v).prevEvent=g)}},{key:"_doPhase",value:function(g){var w=g.event,S=g.phase,_=g.preEnd,P=g.type,k=(this||v).rect;if(k&&"move"===S&&(H((this||v).edges,k,(this||v).coords.delta[(this||v).interactable.options.deltaSource]),k.width=k.right-k.left,k.height=k.bottom-k.top),!1===this._scopeFire("interactions:before-action-".concat(S),g))return!1;var D=g.iEvent=this._createPreparedEvent(w,S,_,P);return this._scopeFire("interactions:action-".concat(S),g),"start"===S&&((this||v).prevEvent=D),this._fireEvent(D),this._scopeFire("interactions:after-action-".concat(S),g),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function Ie(v){Me(v.interaction)}function Me(v){if(!function(v){return!(!v.offset.pending.x&&!v.offset.pending.y)}(v))return!1;var g=v.offset.pending;return Ae(v.coords.cur,g),Ae(v.coords.delta,g),H(v.edges,v.rect,g),g.x=0,g.y=0,!0}function ze(g){var w=g.x,S=g.y;(this||v).offset.pending.x+=w,(this||v).offset.pending.y+=S,(this||v).offset.total.x+=w,(this||v).offset.total.y+=S}function Ae(v,g){var w=v.page,S=v.client,_=g.x,P=g.y;w.x+=_,w.y+=P,S.x+=_,S.y+=P}De.offsetBy="";var Ce={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(v){v.Interaction.prototype.offsetBy=ze},listeners:{"interactions:new":function(v){v.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(v){return function(v){v.pointerIsDown&&(Ae(v.coords.cur,v.offset.total),v.offset.pending.x=0,v.offset.pending.y=0)}(v.interaction)},"interactions:before-action-start":Ie,"interactions:before-action-move":Ie,"interactions:before-action-end":function(v){var g=v.interaction;if(Me(g))return g.move({offset:!0}),g.end(),!1},"interactions:stop":function(v){var g=v.interaction;g.offset.total.x=0,g.offset.total.y=0,g.offset.pending.x=0,g.offset.pending.y=0}}},je=Ce;var Xe=function(){function t(g){r(this||v,t),(this||v).active=!1,(this||v).isModified=!1,(this||v).smoothEnd=!1,(this||v).allowResume=!1,(this||v).modification=void 0,(this||v).modifierCount=0,(this||v).modifierArg=void 0,(this||v).startCoords=void 0,(this||v).t0=0,(this||v).v0=0,(this||v).te=0,(this||v).targetOffset=void 0,(this||v).modifiedOffset=void 0,(this||v).currentOffset=void 0,(this||v).lambda_v0=0,(this||v).one_ve_v0=0,(this||v).timeout=void 0,(this||v).interaction=void 0,(this||v).interaction=g}return o(t,[{key:"start",value:function(g){var w=(this||v).interaction,S=Fe(w);if(!S||!S.enabled)return!1;var _=w.coords.velocity.client,P=Q(_.x,_.y),k=(this||v).modification||((this||v).modification=new Ee(w));if(k.copyFrom(w.modification),(this||v).t0=w._now(),(this||v).allowResume=S.allowResume,(this||v).v0=P,(this||v).currentOffset={x:0,y:0},(this||v).startCoords=w.coords.cur.page,(this||v).modifierArg=k.fillArg({pageCoords:(this||v).startCoords,preEnd:!0,phase:"inertiastart"}),(this||v).t0-w.coords.cur.timeStamp<50&&P>S.minSpeed&&P>S.endSpeed)this.startInertia();else{if(k.result=k.setAll((this||v).modifierArg),!k.result.changed)return!1;this.startSmoothEnd()}return w.modification.result.rect=null,w.offsetBy((this||v).targetOffset),w._doPhase({interaction:w,event:g,phase:"inertiastart"}),w.offsetBy({x:-(this||v).targetOffset.x,y:-(this||v).targetOffset.y}),w.modification.result.rect=null,(this||v).active=!0,w.simulation=this||v,!0}},{key:"startInertia",value:function(){var g=this||v,w=(this||v).interaction.coords.velocity.client,S=Fe((this||v).interaction),_=S.resistance,P=-Math.log(S.endSpeed/(this||v).v0)/_;(this||v).targetOffset={x:(w.x-P)/_,y:(w.y-P)/_},(this||v).te=P,(this||v).lambda_v0=_/(this||v).v0,(this||v).one_ve_v0=1-S.endSpeed/(this||v).v0;var k=(this||v).modification,D=(this||v).modifierArg;D.pageCoords={x:(this||v).startCoords.x+(this||v).targetOffset.x,y:(this||v).startCoords.y+(this||v).targetOffset.y},k.result=k.setAll(D),k.result.changed&&((this||v).isModified=!0,(this||v).modifiedOffset={x:(this||v).targetOffset.x+k.result.delta.x,y:(this||v).targetOffset.y+k.result.delta.y}),this.onNextFrame((function(){return g.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var g=this||v;(this||v).smoothEnd=!0,(this||v).isModified=!0,(this||v).targetOffset={x:(this||v).modification.result.delta.x,y:(this||v).modification.result.delta.y},this.onNextFrame((function(){return g.smoothEndTick()}))}},{key:"onNextFrame",value:function(g){var w=this||v;(this||v).timeout=Wt.request((function(){w.active&&g()}))}},{key:"inertiaTick",value:function(){var g,w,S,_,P,k,D,I=this||v,Z=(this||v).interaction,vt=Fe(Z).resistance,xt=(Z._now()-(this||v).t0)/1e3;if(xt<(this||v).te){var Ot,kt=1-(Math.exp(-vt*xt)-(this||v).lambda_v0)/(this||v).one_ve_v0;(this||v).isModified?(g=0,w=0,S=(this||v).targetOffset.x,_=(this||v).targetOffset.y,P=(this||v).modifiedOffset.x,k=(this||v).modifiedOffset.y,Ot={x:Ye(D=kt,g,S,P),y:Ye(D,w,_,k)}):Ot={x:(this||v).targetOffset.x*kt,y:(this||v).targetOffset.y*kt};var Mt={x:Ot.x-(this||v).currentOffset.x,y:Ot.y-(this||v).currentOffset.y};(this||v).currentOffset.x+=Mt.x,(this||v).currentOffset.y+=Mt.y,Z.offsetBy(Mt),Z.move(),this.onNextFrame((function(){return I.inertiaTick()}))}else Z.offsetBy({x:(this||v).modifiedOffset.x-(this||v).currentOffset.x,y:(this||v).modifiedOffset.y-(this||v).currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var g=this||v,w=(this||v).interaction,S=w._now()-(this||v).t0,_=Fe(w).smoothEndDuration;if(S<_){var P={x:Le(S,0,(this||v).targetOffset.x,_),y:Le(S,0,(this||v).targetOffset.y,_)},k={x:P.x-(this||v).currentOffset.x,y:P.y-(this||v).currentOffset.y};(this||v).currentOffset.x+=k.x,(this||v).currentOffset.y+=k.y,w.offsetBy(k),w.move({skipModifiers:(this||v).modifierCount}),this.onNextFrame((function(){return g.smoothEndTick()}))}else w.offsetBy({x:(this||v).targetOffset.x-(this||v).currentOffset.x,y:(this||v).targetOffset.y-(this||v).currentOffset.y}),this.end()}},{key:"resume",value:function(g){var w=g.pointer,S=g.event,_=g.eventTarget,P=(this||v).interaction;P.offsetBy({x:-(this||v).currentOffset.x,y:-(this||v).currentOffset.y}),P.updatePointer(w,S,_,!0),P._doPhase({interaction:P,event:S,phase:"resume"}),et(P.coords.prev,P.coords.cur),this.stop()}},{key:"end",value:function(){(this||v).interaction.move(),(this||v).interaction.end(),this.stop()}},{key:"stop",value:function(){(this||v).active=(this||v).smoothEnd=!1,(this||v).interaction.simulation=null,Wt.cancel((this||v).timeout)}}]),t}();function Fe(v){var g=v.interactable,w=v.prepared;return g&&g.options&&w.name&&g.options[w.name].inertia}var Ue={id:"inertia",before:["modifiers","actions"],install:function(v){var g=v.defaults;v.usePlugin(je),v.usePlugin(Se),v.actions.phases.inertiastart=!0,v.actions.phases.resume=!0,g.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(v){var g=v.interaction;g.inertia=new Xe(g)},"interactions:before-action-end":function(v){var g=v.interaction,w=v.event;return(!g._interacting||g.simulation||!g.inertia.start(w))&&null},"interactions:down":function(v){var g=v.interaction,w=v.eventTarget,S=g.inertia;if(S.active)for(var P=w;_.element(P);){if(P===g.element){S.resume(v);break}P=A(P)}},"interactions:stop":function(v){var g=v.interaction.inertia;g.active&&g.stop()},"interactions:before-action-resume":function(v){var g=v.interaction.modification;g.stop(v),g.start(v,v.interaction.coords.cur.page),g.applyToInteraction(v)},"interactions:before-action-inertiastart":function(v){return v.interaction.modification.setAndApply(v)},"interactions:action-resume":xe,"interactions:action-inertiastart":xe,"interactions:after-action-inertiastart":function(v){return v.interaction.modification.restoreInteractionCoords(v)},"interactions:after-action-resume":function(v){return v.interaction.modification.restoreInteractionCoords(v)}}};function Ye(v,g,w,S){var _=1-v;return _*_*g+2*_*v*w+v*v*S}function Le(v,g,w,S){return-w*(v/=S)*(v-2)+g}var We=Ue;function Be(v,g){for(var w=0;w<g.length;w++){var S=g[w];if(v.immediatePropagationStopped)break;S(v)}}var qe=function(){function t(g){r(this||v,t),(this||v).options=void 0,(this||v).types={},(this||v).propagationStopped=!1,(this||v).immediatePropagationStopped=!1,(this||v).global=void 0,(this||v).options=V({},g||{})}return o(t,[{key:"fire",value:function(g){var w,S=(this||v).global;(w=(this||v).types[g.type])&&Be(g,w),!g.propagationStopped&&S&&(w=S[g.type])&&Be(g,w)}},{key:"on",value:function(g,w){var S=$(g,w);for(g in S)(this||v).types[g]=gt((this||v).types[g]||[],S[g])}},{key:"off",value:function(g,w){var S=$(g,w);for(g in S){var _=(this||v).types[g];if(_&&_.length)for(var P=0,k=S[g];P<k.length;P++){var D=k[P],I=_.indexOf(D);-1!==I&&_.splice(I,1)}}}},{key:"getRect",value:function(v){return null}}]),t}();var He=function(){function t(g){r(this||v,t),(this||v).currentTarget=void 0,(this||v).originalEvent=void 0,(this||v).type=void 0,(this||v).originalEvent=g,tt(this||v,g)}return o(t,[{key:"preventOriginalDefault",value:function(){(this||v).originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){(this||v).originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){(this||v).originalEvent.stopImmediatePropagation()}}]),t}();function Ge(v){return _.object(v)?{capture:!!v.capture,passive:!!v.passive}:{capture:!!v,passive:!1}}function Ne(v,g){return v===g||("boolean"==typeof v?!!g.capture===v&&!1==!!g.passive:!!v.capture==!!g.capture&&!!v.passive==!!g.passive)}var $e={id:"events",install:function(v){var g,w=[],S={},P=[],k={add:a,remove:s,addDelegate:function(v,g,w,_,k){var D=Ge(k);if(!S[w]){S[w]=[];for(var I=0;I<P.length;I++){var Z=P[I];a(Z,w,c),a(Z,w,l,!0)}}var vt=S[w],xt=bt(vt,(function(w){return w.selector===v&&w.context===g}));xt||(xt={selector:v,context:g,listeners:[]},vt.push(xt));xt.listeners.push({func:_,options:D})},removeDelegate:function(v,g,w,_,P){var k,D=Ge(P),I=S[w],Z=!1;if(I)for(k=I.length-1;k>=0;k--){var vt=I[k];if(vt.selector===v&&vt.context===g){for(var xt=vt.listeners,Ot=xt.length-1;Ot>=0;Ot--){var kt=xt[Ot];if(kt.func===_&&Ne(kt.options,D)){xt.splice(Ot,1),xt.length||(I.splice(k,1),s(g,w,c),s(g,w,l,!0)),Z=!0;break}}if(Z)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:S,documents:P,targets:w,supportsOptions:!1,supportsPassive:!1};function a(v,g,S,_){if(v.addEventListener){var P=Ge(_),D=bt(w,(function(g){return g.eventTarget===v}));D||(D={eventTarget:v,events:{}},w.push(D)),D.events[g]||(D.events[g]=[]),bt(D.events[g],(function(v){return v.func===S&&Ne(v.options,P)}))||(v.addEventListener(g,S,k.supportsOptions?P:P.capture),D.events[g].push({func:S,options:P}))}}function s(v,g,S,_){if(v.addEventListener&&v.removeEventListener){var P=yt(w,(function(g){return g.eventTarget===v})),D=w[P];if(D&&D.events)if("all"!==g){var I=!1,Z=D.events[g];if(Z){if("all"===S){for(var vt=Z.length-1;vt>=0;vt--){var xt=Z[vt];s(v,g,xt.func,xt.options)}return}for(var Ot=Ge(_),kt=0;kt<Z.length;kt++){var Mt=Z[kt];if(Mt.func===S&&Ne(Mt.options,Ot)){v.removeEventListener(g,S,k.supportsOptions?Ot:Ot.capture),Z.splice(kt,1),0===Z.length&&(delete D.events[g],I=!0);break}}}I&&!Object.keys(D.events).length&&w.splice(P,1)}else for(g in D.events)D.events.hasOwnProperty(g)&&s(v,g,"all")}}function c(v,g){for(var w=Ge(g),P=new He(v),k=S[v.type],D=ht(v)[0],I=D;_.element(I);){for(var Z=0;Z<k.length;Z++){var vt=k[Z],xt=vt.selector,Ot=vt.context;if(R(I,xt)&&M(Ot,D)&&M(Ot,I)){var kt=vt.listeners;P.currentTarget=I;for(var Mt=0;Mt<kt.length;Mt++){var It=kt[Mt];Ne(It.options,w)&&It.func(P)}}}I=A(I)}}function l(v){return c(v,!0)}return null==(g=v.document)||g.createElement("div").addEventListener("test",null,{get capture(){return k.supportsOptions=!0},get passive(){return k.supportsPassive=!0}}),v.events=k,k}},Je={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(v){for(var g=0,w=Je.methodOrder;g<w.length;g++){var S=w[g],_=Je[S](v);if(_)return _}return null},simulationResume:function(v){var g=v.pointerType,w=v.eventType,S=v.eventTarget,_=v.scope;if(!/down|start/i.test(w))return null;for(var P=0,k=_.interactions.list;P<k.length;P++){var D=k[P],I=S;if(D.simulation&&D.simulation.allowResume&&D.pointerType===g)for(;I;){if(I===D.element)return D;I=A(I)}}return null},mouseOrPen:function(v){var g,w=v.pointerId,S=v.pointerType,_=v.eventType,P=v.scope;if("mouse"!==S&&"pen"!==S)return null;for(var k=0,D=P.interactions.list;k<D.length;k++){var I=D[k];if(I.pointerType===S){if(I.simulation&&!Ke(I,w))continue;if(I.interacting())return I;g||(g=I)}}if(g)return g;for(var Z=0,vt=P.interactions.list;Z<vt.length;Z++){var xt=vt[Z];if(!(xt.pointerType!==S||/down/i.test(_)&&xt.simulation))return xt}return null},hasPointer:function(v){for(var g=v.pointerId,w=0,S=v.scope.interactions.list;w<S.length;w++){var _=S[w];if(Ke(_,g))return _}return null},idle:function(v){for(var g=v.pointerType,w=0,S=v.scope.interactions.list;w<S.length;w++){var _=S[w];if(1===_.pointers.length){var P=_.interactable;if(P&&(!P.options.gesture||!P.options.gesture.enabled))continue}else if(_.pointers.length>=2)continue;if(!_.interacting()&&g===_.pointerType)return _}return null}};function Ke(v,g){return v.pointers.some((function(v){return v.id===g}))}var en=Je,nn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Qe(v,g){return function(w){var S=g.interactions.list,_=dt(w),P=ht(w),k=P[0],D=P[1],I=[];if(/^touch/.test(w.type)){g.prevTouchTime=g.now();for(var Z=0,xt=w.changedTouches;Z<xt.length;Z++){var Ot=xt[Z],kt={pointer:Ot,pointerId:at(Ot),pointerType:_,eventType:w.type,eventTarget:k,curEventTarget:D,scope:g},Mt=Ze(kt);I.push([kt.pointer,kt.eventTarget,kt.curEventTarget,Mt])}}else{var It=!1;if(!vt.supportsPointerEvent&&/mouse/.test(w.type)){for(var Rt=0;Rt<S.length&&!It;Rt++)It="mouse"!==S[Rt].pointerType&&S[Rt].pointerIsDown;It=It||g.now()-g.prevTouchTime<500||0===w.timeStamp}if(!It){var Ct={pointer:w,pointerId:at(w),pointerType:_,eventType:w.type,curEventTarget:D,eventTarget:k,scope:g},jt=Ze(Ct);I.push([Ct.pointer,Ct.eventTarget,Ct.curEventTarget,jt])}}for(var Ft=0;Ft<I.length;Ft++){var Yt=I[Ft],Gt=Yt[0],Xt=Yt[1],Lt=Yt[2];Yt[3][v](Gt,w,Xt,Lt)}}}function Ze(v){var g=v.pointerType,w=v.scope,S={interaction:en.search(v),searchDetails:v};return w.fire("interactions:find",S),S.interaction||w.interactions.new({pointerType:g})}function tn(v,g){var w=v.doc,S=v.scope,_=v.options,P=S.interactions.docEvents,k=S.events,D=k[g];for(var I in S.browser.isIOS&&!_.events&&(_.events={passive:!1}),k.delegatedEvents)D(w,I,k.delegateListener),D(w,I,k.delegateUseCapture,!0);for(var Z=_&&_.events,vt=0;vt<P.length;vt++){var xt=P[vt];D(w,xt.type,xt.listener,Z)}}var rn={id:"core/interactions",install:function(g){for(var w={},S=0;S<nn.length;S++){var _=nn[S];w[_]=Qe(_,g)}var P,k=vt.pEventTypes;function l(){for(var v=0,w=g.interactions.list;v<w.length;v++){var S=w[v];if(S.pointerIsDown&&"touch"===S.pointerType&&!S._interacting)for(var i=function(){var v=P[_];g.documents.some((function(g){return M(g.doc,v.downTarget)}))||S.removePointer(v.pointer,v.event)},_=0,P=S.pointers;_<P.length;_++)i()}}(P=I.PointerEvent?[{type:k.down,listener:l},{type:k.down,listener:w.pointerDown},{type:k.move,listener:w.pointerMove},{type:k.up,listener:w.pointerUp},{type:k.cancel,listener:w.pointerUp}]:[{type:"mousedown",listener:w.pointerDown},{type:"mousemove",listener:w.pointerMove},{type:"mouseup",listener:w.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:w.pointerDown},{type:"touchmove",listener:w.pointerMove},{type:"touchend",listener:w.pointerUp},{type:"touchcancel",listener:w.pointerUp}]).push({type:"blur",listener:function(v){for(var w=0,S=g.interactions.list;w<S.length;w++)S[w].documentBlur(v)}}),g.prevTouchTime=0,g.Interaction=function(w){s(i,w);var S=p(i);function i(){return r(this||v,i),S.apply(this||v,arguments)}return o(i,[{key:"pointerMoveTolerance",get:function(){return g.interactions.pointerMoveTolerance},set:function(v){g.interactions.pointerMoveTolerance=v}},{key:"_now",value:function(){return g.now()}}]),i}(Re),g.interactions={list:[],new:function(v){v.scopeFire=function(v,w){return g.fire(v,w)};var w=new g.Interaction(v);return g.interactions.list.push(w),w},listeners:w,docEvents:P,pointerMoveTolerance:1},g.usePlugin(we)},listeners:{"scope:add-document":function(v){return tn(v,"add")},"scope:remove-document":function(v){return tn(v,"remove")},"interactable:unset":function(v,g){for(var w=v.interactable,S=g.interactions.list.length-1;S>=0;S--){var _=g.interactions.list[S];_.interactable===w&&(_.stop(),g.fire("interactions:destroy",{interaction:_}),_.destroy(),g.interactions.list.length>2&&g.interactions.list.splice(S,1))}}},onDocSignal:tn,doOnInteractions:Qe,methodNames:nn},on=rn,an=function(v){return v[v.On=0]="On",v[v.Off=1]="Off",v}(an||{}),sn=function(){function t(g,w,S,_){r(this||v,t),(this||v).target=void 0,(this||v).options=void 0,(this||v)._actions=void 0,(this||v).events=new qe,(this||v)._context=void 0,(this||v)._win=void 0,(this||v)._doc=void 0,(this||v)._scopeEvents=void 0,(this||v)._actions=w.actions,(this||v).target=g,(this||v)._context=w.context||S,(this||v)._win=y(B(g)?(this||v)._context:g),(this||v)._doc=(this||v)._win.document,(this||v)._scopeEvents=_,this.set(w)}return o(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(g,w){return _.func(w.onstart)&&this.on("".concat(g,"start"),w.onstart),_.func(w.onmove)&&this.on("".concat(g,"move"),w.onmove),_.func(w.onend)&&this.on("".concat(g,"end"),w.onend),_.func(w.oninertiastart)&&this.on("".concat(g,"inertiastart"),w.oninertiastart),this||v}},{key:"updatePerActionListeners",value:function(g,w,S){var P,k=this||v,D=null==(P=(this||v)._actions.map[g])?void 0:P.filterEventType,a=function(v){return(null==D||D(v))&&ve(v,k._actions)};(_.array(w)||_.object(w))&&this._onOff(an.Off,g,w,void 0,a),(_.array(S)||_.object(S))&&this._onOff(an.On,g,S,void 0,a)}},{key:"setPerAction",value:function(g,w){var S=(this||v)._defaults;for(var P in w){var k=P,D=(this||v).options[g],I=w[k];"listeners"===k&&this.updatePerActionListeners(g,D.listeners,I),_.array(I)?D[k]=mt(I):_.plainObject(I)?(D[k]=V(D[k]||{},ge(I)),_.object(S.perAction[k])&&"enabled"in S.perAction[k]&&(D[k].enabled=!1!==I.enabled)):_.bool(I)&&_.object(S.perAction[k])?D[k].enabled=I:D[k]=I}}},{key:"getRect",value:function(g){return g=g||(_.element((this||v).target)?(this||v).target:null),_.string((this||v).target)&&(g=g||(this||v)._context.querySelector((this||v).target)),L(g)}},{key:"rectChecker",value:function(g){var w=this||v;return _.func(g)?((this||v).getRect=function(v){var S=V({},g.apply(w,v));return"width"in S||(S.width=S.right-S.left,S.height=S.bottom-S.top),S},this||v):null===g?(delete(this||v).getRect,this||v):(this||v).getRect}},{key:"_backCompatOption",value:function(g,w){if(B(w)||_.object(w)){for(var S in(this||v).options[g]=w,(this||v)._actions.map)(this||v).options[S][g]=w;return this||v}return(this||v).options[g]}},{key:"origin",value:function(v){return this._backCompatOption("origin",v)}},{key:"deltaSource",value:function(g){return"page"===g||"client"===g?((this||v).options.deltaSource=g,this||v):(this||v).options.deltaSource}},{key:"getAllElements",value:function(){var g=(this||v).target;return _.string(g)?Array.from((this||v)._context.querySelectorAll(g)):_.func(g)&&g.getAllElements?g.getAllElements():_.element(g)?[g]:[]}},{key:"context",value:function(){return(this||v)._context}},{key:"inContext",value:function(g){return(this||v)._context===g.ownerDocument||M((this||v)._context,g)}},{key:"testIgnoreAllow",value:function(v,g,w){return!this.testIgnore(v.ignoreFrom,g,w)&&this.testAllow(v.allowFrom,g,w)}},{key:"testAllow",value:function(v,g,w){return!v||!!_.element(w)&&(_.string(v)?F(w,v,g):!!_.element(v)&&M(v,w))}},{key:"testIgnore",value:function(v,g,w){return!(!v||!_.element(w))&&(_.string(v)?F(w,v,g):!!_.element(v)&&M(v,w))}},{key:"fire",value:function(g){return(this||v).events.fire(g),this||v}},{key:"_onOff",value:function(g,w,S,P,k){_.object(w)&&!_.array(w)&&(P=S,S=null);var D=$(w,S,k);for(var I in D){"wheel"===I&&(I=vt.wheelEvent);for(var Z=0,xt=D[I];Z<xt.length;Z++){var Ot=xt[Z];ve(I,(this||v)._actions)?(this||v).events[g===an.On?"on":"off"](I,Ot):_.string((this||v).target)?(this||v)._scopeEvents[g===an.On?"addDelegate":"removeDelegate"]((this||v).target,(this||v)._context,I,Ot,P):(this||v)._scopeEvents[g===an.On?"add":"remove"]((this||v).target,I,Ot,P)}}return this||v}},{key:"on",value:function(v,g,w){return this._onOff(an.On,v,g,w)}},{key:"off",value:function(v,g,w){return this._onOff(an.Off,v,g,w)}},{key:"set",value:function(g){var w=(this||v)._defaults;for(var S in _.object(g)||(g={}),(this||v).options=ge(w.base),(this||v)._actions.methodDict){var P=S,k=(this||v)._actions.methodDict[P];(this||v).options[P]={},this.setPerAction(P,V(V({},w.perAction),w.actions[P])),this[k](g[P])}for(var D in g)"getRect"!==D?_.func((this||v)[D])&&this[D](g[D]):this.rectChecker(g.getRect);return this||v}},{key:"unset",value:function(){if(_.string((this||v).target))for(var g in(this||v)._scopeEvents.delegatedEvents)for(var w=(this||v)._scopeEvents.delegatedEvents[g],S=w.length-1;S>=0;S--){var P=w[S],k=P.selector,D=P.context,I=P.listeners;k===(this||v).target&&D===(this||v)._context&&w.splice(S,1);for(var Z=I.length-1;Z>=0;Z--)(this||v)._scopeEvents.removeDelegate((this||v).target,(this||v)._context,g,I[Z][0],I[Z][1])}else(this||v)._scopeEvents.remove((this||v).target,"all")}}]),t}(),ln=function(){function t(g){var w=this||v;r(this||v,t),(this||v).list=[],(this||v).selectorMap={},(this||v).scope=void 0,(this||v).scope=g,g.addListeners({"interactable:unset":function(v){var g=v.interactable,S=g.target,P=_.string(S)?w.selectorMap[S]:S[w.scope.id],k=yt(P,(function(v){return v===g}));P.splice(k,1)}})}return o(t,[{key:"new",value:function(g,w){w=V(w||{},{actions:(this||v).scope.actions});var S=new(this||v).scope.Interactable(g,w,(this||v).scope.document,(this||v).scope.events);return(this||v).scope.addDocument(S._doc),(this||v).list.push(S),_.string(g)?((this||v).selectorMap[g]||((this||v).selectorMap[g]=[]),(this||v).selectorMap[g].push(S)):(S.target[(this||v).scope.id]||Object.defineProperty(g,(this||v).scope.id,{value:[],configurable:!0}),g[(this||v).scope.id].push(S)),(this||v).scope.fire("interactable:new",{target:g,options:w,interactable:S,win:(this||v).scope._win}),S}},{key:"getExisting",value:function(g,w){var S=w&&w.context||(this||v).scope.document,P=_.string(g),k=P?(this||v).selectorMap[g]:g[(this||v).scope.id];if(k)return bt(k,(function(v){return v._context===S&&(P||v.inContext(g))}))}},{key:"forEachMatch",value:function(g,w){for(var S=0,P=(this||v).list;S<P.length;S++){var k=P[S],D=void 0;if((_.string(k.target)?_.element(g)&&R(g,k.target):g===k.target)&&k.inContext(g)&&(D=w(k)),void 0!==D)return D}}}]),t}();var un=function(){function t(){var g=this||v;r(this||v,t),(this||v).id="__interact_scope_".concat(Math.floor(100*Math.random())),(this||v).isInitialized=!1,(this||v).listenerMaps=[],(this||v).browser=vt,(this||v).defaults=ge(_e),(this||v).Eventable=qe,(this||v).actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},(this||v).interactStatic=function(g){var w=function e(v,w){var S=g.interactables.getExisting(v,w);return S||((S=g.interactables.new(v,w)).events.global=e.globalEvents),S};return w.getPointerAverage=lt,w.getTouchBBox=ut,w.getTouchDistance=pt,w.getTouchAngle=ft,w.getElementRect=L,w.getElementClientRect=Y,w.matchesSelector=R,w.closest=z,w.globalEvents={},w.version="1.10.27",w.scope=g,w.use=function(g,w){return(this||v).scope.usePlugin(g,w),this||v},w.isSet=function(g,w){return!!(this||v).scope.interactables.get(g,w&&w.context)},w.on=Nt((function(g,w,S){if(_.string(g)&&-1!==g.search(" ")&&(g=g.trim().split(/ +/)),_.array(g)){for(var P=0,k=g;P<k.length;P++){var D=k[P];this.on(D,w,S)}return this||v}if(_.object(g)){for(var I in g)this.on(I,g[I],w);return this||v}return ve(g,(this||v).scope.actions)?(this||v).globalEvents[g]?(this||v).globalEvents[g].push(w):(this||v).globalEvents[g]=[w]:(this||v).scope.events.add((this||v).scope.document,g,w,{options:S}),this||v}),"The interact.on() method is being deprecated"),w.off=Nt((function(g,w,S){if(_.string(g)&&-1!==g.search(" ")&&(g=g.trim().split(/ +/)),_.array(g)){for(var P=0,k=g;P<k.length;P++){var D=k[P];this.off(D,w,S)}return this||v}if(_.object(g)){for(var I in g)this.off(I,g[I],w);return this||v}var Z;return ve(g,(this||v).scope.actions)?g in(this||v).globalEvents&&-1!==(Z=(this||v).globalEvents[g].indexOf(w))&&(this||v).globalEvents[g].splice(Z,1):(this||v).scope.events.remove((this||v).scope.document,g,w,S),this||v}),"The interact.off() method is being deprecated"),w.debug=function(){return(this||v).scope},w.supportsTouch=function(){return vt.supportsTouch},w.supportsPointerEvent=function(){return vt.supportsPointerEvent},w.stop=function(){for(var g=0,w=(this||v).scope.interactions.list;g<w.length;g++)w[g].stop();return this||v},w.pointerMoveTolerance=function(g){return _.number(g)?((this||v).scope.interactions.pointerMoveTolerance=g,this||v):(this||v).scope.interactions.pointerMoveTolerance},w.addDocument=function(g,w){(this||v).scope.addDocument(g,w)},w.removeDocument=function(g){(this||v).scope.removeDocument(g)},w}(this||v),(this||v).InteractEvent=Pe,(this||v).Interactable=void 0,(this||v).interactables=new ln(this||v),(this||v)._win=void 0,(this||v).document=void 0,(this||v).window=void 0,(this||v).documents=[],(this||v)._plugins={list:[],map:{}},(this||v).onWindowUnload=function(v){return g.removeDocument(v.target)};var w=this||v;(this||v).Interactable=function(g){s(i,g);var S=p(i);function i(){return r(this||v,i),S.apply(this||v,arguments)}return o(i,[{key:"_defaults",get:function(){return w.defaults}},{key:"set",value:function(g){return f(c(i.prototype),"set",this||v).call(this||v,g),w.fire("interactable:set",{options:g,interactable:this||v}),this||v}},{key:"unset",value:function(){f(c(i.prototype),"unset",this||v).call(this||v);var g=w.interactables.list.indexOf(this||v);g<0||(w.interactables.list.splice(g,1),w.fire("interactable:unset",{interactable:this||v}))}}]),i}(sn)}return o(t,[{key:"addListeners",value:function(g,w){(this||v).listenerMaps.push({id:w,map:g})}},{key:"fire",value:function(g,w){for(var S=0,_=(this||v).listenerMaps;S<_.length;S++){var P=_[S].map[g];if(P&&!1===P(w,this||v,g))return!1}}},{key:"init",value:function(g){return(this||v).isInitialized?this||v:function(v,g){v.isInitialized=!0,_.window(g)&&m(g);return I.init(g),vt.init(g),Wt.init(g),v.window=g,v.document=g.document,v.usePlugin(on),v.usePlugin($e),v}(this||v,g)}},{key:"pluginIsInstalled",value:function(g){var w=g.id;return w?!!(this||v)._plugins.map[w]:-1!==(this||v)._plugins.list.indexOf(g)}},{key:"usePlugin",value:function(g,w){if(!(this||v).isInitialized)return this||v;if(this.pluginIsInstalled(g))return this||v;if(g.id&&((this||v)._plugins.map[g.id]=g),(this||v)._plugins.list.push(g),g.install&&g.install(this||v,w),g.listeners&&g.before){for(var S=0,_=(this||v).listenerMaps.length,P=g.before.reduce((function(v,g){return v[g]=!0,v[cn(g)]=!0,v}),{});S<_;S++){var k=(this||v).listenerMaps[S].id;if(k&&(P[k]||P[cn(k)]))break}(this||v).listenerMaps.splice(S,0,{id:g.id,map:g.listeners})}else g.listeners&&(this||v).listenerMaps.push({id:g.id,map:g.listeners});return this||v}},{key:"addDocument",value:function(g,w){if(-1!==this.getDocIndex(g))return!1;var S=y(g);w=w?V({},w):{},(this||v).documents.push({doc:g,options:w}),(this||v).events.documents.push(g),g!==(this||v).document&&(this||v).events.add(S,"unload",(this||v).onWindowUnload),this.fire("scope:add-document",{doc:g,window:S,scope:this||v,options:w})}},{key:"removeDocument",value:function(g){var w=this.getDocIndex(g),S=y(g),_=(this||v).documents[w].options;(this||v).events.remove(S,"unload",(this||v).onWindowUnload),(this||v).documents.splice(w,1),(this||v).events.documents.splice(w,1),this.fire("scope:remove-document",{doc:g,window:S,scope:this||v,options:_})}},{key:"getDocIndex",value:function(g){for(var w=0;w<(this||v).documents.length;w++)if((this||v).documents[w].doc===g)return w;return-1}},{key:"getDocOptions",value:function(g){var w=this.getDocIndex(g);return-1===w?null:(this||v).documents[w].options}},{key:"now",value:function(){return((this||v).window.Date||Date).now()}}]),t}();function cn(v){return v&&v.replace(/\/.*$/,"")}var pn=new un,fn=pn.interactStatic,dn="undefined"!=typeof globalThis?globalThis:window;pn.init(dn);var hn=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(v){var g=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(g){var w=g[0],S=g[1];return w in v||S in v})),n=function(w,S){for(var _=v.range,P=v.limits,k=void 0===P?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:P,D=v.offset,I=void 0===D?{x:0,y:0}:D,Z={range:_,grid:v,x:null,y:null},vt=0;vt<g.length;vt++){var xt=g[vt],Ot=xt[0],kt=xt[1],Mt=Math.round((w-I.x)/v[Ot]),It=Math.round((S-I.y)/v[kt]);Z[Ot]=Math.max(k.left,Math.min(k.right,Mt*v[Ot]+I.x)),Z[kt]=Math.max(k.top,Math.min(k.bottom,It*v[kt]+I.y))}return Z};return n.grid=v,n.coordFields=g,n}}),vn={id:"snappers",install:function(v){var g=v.interactStatic;g.snappers=V(g.snappers||{},hn),g.createSnapGrid=g.snappers.grid}},yn=vn,xn={start:function(v){var g=v.state,w=v.rect,S=v.edges,_=v.pageCoords,P=g.options,k=P.ratio,D=P.enabled,I=g.options,Z=I.equalDelta,vt=I.modifiers;"preserve"===k&&(k=w.width/w.height),g.startCoords=V({},_),g.startRect=V({},w),g.ratio=k,g.equalDelta=Z;var xt=g.linkedEdges={top:S.top||S.left&&!S.bottom,left:S.left||S.top&&!S.right,bottom:S.bottom||S.right&&!S.top,right:S.right||S.bottom&&!S.left};if(g.xIsPrimaryAxis=!(!S.left&&!S.right),g.equalDelta){var Ot=(xt.left?1:-1)*(xt.top?1:-1);g.edgeSign={x:Ot,y:Ot}}else g.edgeSign={x:xt.left?-1:1,y:xt.top?-1:1};if(!1!==D&&V(S,xt),null!=vt&&vt.length){var kt=new Ee(v.interaction);kt.copyFrom(v.interaction.modification),kt.prepareStates(vt),g.subModification=kt,kt.startAll(e({},v))}},set:function(v){var g=v.state,w=v.rect,S=v.coords,_=g.linkedEdges,P=V({},S),k=g.equalDelta?gn:mn;if(V(v.edges,_),k(g,g.xIsPrimaryAxis,S,w),!g.subModification)return null;var D=V({},w);H(_,D,{x:S.x-P.x,y:S.y-P.y});var I=g.subModification.setAll(e(e({},v),{},{rect:D,edges:_,pageCoords:S,prevCoords:S,prevRect:D})),Z=I.delta;I.changed&&(k(g,Math.abs(Z.x)>Math.abs(Z.y),I.coords,I.rect),V(S,I.coords));return I.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function gn(v,g,w){var S=v.startCoords,_=v.edgeSign;g?w.y=S.y+(w.x-S.x)*_.y:w.x=S.x+(w.y-S.y)*_.x}function mn(v,g,w,S){var _=v.startRect,P=v.startCoords,k=v.ratio,D=v.edgeSign;if(g){var I=S.width/k;w.y=P.y+(I-_.height)*D.y}else{var Z=S.height*k;w.x=P.x+(Z-_.width)*D.x}}var En=be(xn,"aspectRatio"),bn=function(){};bn._defaults={};var Tn=bn;function wn(v,g,w){return _.func(v)?G(v,g.interactable,g.element,[w.x,w.y,g]):G(v,g.interactable,g.element)}var Sn={start:function(v){var g=v.rect,w=v.startOffset,S=v.state,_=v.interaction,P=v.pageCoords,k=S.options,D=k.elementRect,I=V({left:0,top:0,right:0,bottom:0},k.offset||{});if(g&&D){var Z=wn(k.restriction,_,P);if(Z){var vt=Z.right-Z.left-g.width,xt=Z.bottom-Z.top-g.height;vt<0&&(I.left+=vt,I.right+=vt),xt<0&&(I.top+=xt,I.bottom+=xt)}I.left+=w.left-g.width*D.left,I.top+=w.top-g.height*D.top,I.right+=w.right-g.width*(1-D.right),I.bottom+=w.bottom-g.height*(1-D.bottom)}S.offset=I},set:function(v){var g=v.coords,w=v.interaction,S=v.state,_=S.options,P=S.offset,k=wn(_.restriction,w,g);if(k){var D=function(v){return!v||"left"in v&&"top"in v||((v=V({},v)).left=v.x||0,v.top=v.y||0,v.right=v.right||v.left+v.width,v.bottom=v.bottom||v.top+v.height),v}(k);g.x=Math.max(Math.min(D.right-P.right,g.x),D.left+P.left),g.y=Math.max(Math.min(D.bottom-P.bottom,g.y),D.top+P.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},_n=be(Sn,"restrict"),On={top:1/0,left:1/0,bottom:-1/0,right:-1/0},kn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Pn(v,g){for(var w=0,S=["top","left","bottom","right"];w<S.length;w++){var _=S[w];_ in v||(v[_]=g[_])}return v}var Mn={noInner:On,noOuter:kn,start:function(v){var g,w=v.interaction,S=v.startOffset,_=v.state,P=_.options;P&&(g=N(wn(P.offset,w,w.coords.start.page))),g=g||{x:0,y:0},_.offset={top:g.y+S.top,left:g.x+S.left,bottom:g.y-S.bottom,right:g.x-S.right}},set:function(v){var g=v.coords,w=v.edges,S=v.interaction,_=v.state,P=_.offset,k=_.options;if(w){var D=V({},g),I=wn(k.inner,S,D)||{},Z=wn(k.outer,S,D)||{};Pn(I,On),Pn(Z,kn),w.top?g.y=Math.min(Math.max(Z.top+P.top,D.y),I.top+P.top):w.bottom&&(g.y=Math.max(Math.min(Z.bottom+P.bottom,D.y),I.bottom+P.bottom)),w.left?g.x=Math.min(Math.max(Z.left+P.left,D.x),I.left+P.left):w.right&&(g.x=Math.max(Math.min(Z.right+P.right,D.x),I.right+P.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Dn=be(Mn,"restrictEdges"),In=V({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(v){}},Sn.defaults),zn=be({start:Sn.start,set:Sn.set,defaults:In},"restrictRect"),An={width:-1/0,height:-1/0},Rn={width:1/0,height:1/0};var Cn=be({start:function(v){return Mn.start(v)},set:function(v){var g=v.interaction,w=v.state,S=v.rect,_=v.edges,P=w.options;if(_){var k=U(wn(P.min,g,v.coords))||An,D=U(wn(P.max,g,v.coords))||Rn;w.options={endOnly:P.endOnly,inner:V({},Mn.noInner),outer:V({},Mn.noOuter)},_.top?(w.options.inner.top=S.bottom-k.height,w.options.outer.top=S.bottom-D.height):_.bottom&&(w.options.inner.bottom=S.top+k.height,w.options.outer.bottom=S.top+D.height),_.left?(w.options.inner.left=S.right-k.width,w.options.outer.left=S.right-D.width):_.right&&(w.options.inner.right=S.left+k.width,w.options.outer.right=S.left+D.width),Mn.set(v),w.options=P}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");var jn={start:function(v){var g,w=v.interaction,S=v.interactable,_=v.element,P=v.rect,k=v.state,D=v.startOffset,I=k.options,Z=I.offsetWithOrigin?function(v){var g=v.interaction.element,w=N(G(v.state.options.origin,null,null,[g])),S=w||K(v.interactable,g,v.interaction.prepared.name);return S}(v):{x:0,y:0};if("startCoords"===I.offset)g={x:w.coords.start.page.x,y:w.coords.start.page.y};else{var vt=G(I.offset,S,_,[w]);(g=N(vt)||{x:0,y:0}).x+=Z.x,g.y+=Z.y}var xt=I.relativePoints;k.offsets=P&&xt&&xt.length?xt.map((function(v,w){return{index:w,relativePoint:v,x:D.left-P.width*v.x+g.x,y:D.top-P.height*v.y+g.y}})):[{index:0,relativePoint:null,x:g.x,y:g.y}]},set:function(v){var g=v.interaction,w=v.coords,S=v.state,P=S.options,k=S.offsets,D=K(g.interactable,g.element,g.prepared.name),I=V({},w),Z=[];P.offsetWithOrigin||(I.x-=D.x,I.y-=D.y);for(var vt=0,xt=k;vt<xt.length;vt++)for(var Ot=xt[vt],kt=I.x-Ot.x,Mt=I.y-Ot.y,It=0,Rt=P.targets.length;It<Rt;It++){var Ct=P.targets[It],jt=void 0;(jt=_.func(Ct)?Ct(kt,Mt,g._proxy,Ot,It):Ct)&&Z.push({x:(_.number(jt.x)?jt.x:kt)+Ot.x,y:(_.number(jt.y)?jt.y:Mt)+Ot.y,range:_.number(jt.range)?jt.range:P.range,source:Ct,index:It,offset:Ot})}for(var Ft={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Yt=0;Yt<Z.length;Yt++){var Gt=Z[Yt],Xt=Gt.range,Lt=Gt.x-I.x,Wt=Gt.y-I.y,qt=Q(Lt,Wt),$t=qt<=Xt;Xt===1/0&&Ft.inRange&&Ft.range!==1/0&&($t=!1),Ft.target&&!($t?Ft.inRange&&Xt!==1/0?qt/Xt<Ft.distance/Ft.range:Xt===1/0&&Ft.range!==1/0||qt<Ft.distance:!Ft.inRange&&qt<Ft.distance)||(Ft.target=Gt,Ft.distance=qt,Ft.range=Xt,Ft.inRange=$t,Ft.delta.x=Lt,Ft.delta.y=Wt)}return Ft.inRange&&(w.x=Ft.target.x,w.y=Ft.target.y),S.closest=Ft,Ft},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Fn=be(jn,"snap");var Yn={start:function(v){var g=v.state,w=v.edges,S=g.options;if(!w)return null;v.state={options:{targets:null,relativePoints:[{x:w.left?0:1,y:w.top?0:1}],offset:S.offset||"self",origin:{x:0,y:0},range:S.range}},g.targetFields=g.targetFields||[["width","height"],["x","y"]],jn.start(v),g.offsets=v.state.offsets,v.state=g},set:function(v){var g=v.interaction,w=v.state,S=v.coords,P=w.options,k=w.offsets,D={x:S.x-k[0].x,y:S.y-k[0].y};w.options=V({},P),w.options.targets=[];for(var I=0,Z=P.targets||[];I<Z.length;I++){var vt=Z[I],xt=void 0;if(xt=_.func(vt)?vt(D.x,D.y,g):vt){for(var Ot=0,kt=w.targetFields;Ot<kt.length;Ot++){var Mt=kt[Ot],It=Mt[0],Rt=Mt[1];if(It in xt||Rt in xt){xt.x=xt[It],xt.y=xt[Rt];break}}w.options.targets.push(xt)}}var Ct=jn.set(v);return w.options=P,Ct},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Nn=be(Yn,"snapSize");var Xn={aspectRatio:En,restrictEdges:Dn,restrict:_n,restrictRect:zn,restrictSize:Cn,snapEdges:be({start:function(v){var g=v.edges;return g?(v.state.targetFields=v.state.targetFields||[[g.left?"left":"right",g.top?"top":"bottom"]],Yn.start(v)):null},set:Yn.set,defaults:V(ge(Yn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Fn,snapSize:Nn,spring:Tn,avoid:Tn,transform:Tn,rubberband:Tn},Ln={id:"modifiers",install:function(v){var g=v.interactStatic;for(var w in v.usePlugin(Se),v.usePlugin(yn),g.modifiers=Xn,Xn){var S=Xn[w],_=S._defaults,P=S._methods;_._methods=P,v.defaults.perAction[w]=_}}},Bn=Ln,qn=function(g){s(n,g);var w=p(n);function n(g,S,_,P,k,D){var I;if(r(this||v,n),tt(u(I=w.call(this||v,k)),_),_!==S&&tt(u(I),S),I.timeStamp=D,I.originalEvent=_,I.type=g,I.pointerId=at(S),I.pointerType=dt(S),I.target=P,I.currentTarget=null,"tap"===g){var Z=k.getPointerIndex(S);I.dt=I.timeStamp-k.pointers[Z].downTime;var vt=I.timeStamp-k.tapTime;I.double=!!k.prevTap&&"doubletap"!==k.prevTap.type&&k.prevTap.target===I.target&&vt<500}else"doubletap"===g&&(I.dt=S.timeStamp-k.tapTime,I.double=!0);return I}return o(n,[{key:"_subtractOrigin",value:function(g){var w=g.x,S=g.y;return(this||v).pageX-=w,(this||v).pageY-=S,(this||v).clientX-=w,(this||v).clientY-=S,this||v}},{key:"_addOrigin",value:function(g){var w=g.x,S=g.y;return(this||v).pageX+=w,(this||v).pageY+=S,(this||v).clientX+=w,(this||v).clientY+=S,this||v}},{key:"preventDefault",value:function(){(this||v).originalEvent.preventDefault()}}]),n}(Ot),Kn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(v){v.pointerEvents=Kn,v.defaults.actions.pointerEvents=Kn.defaults,V(v.actions.phaselessTypes,Kn.types)},listeners:{"interactions:new":function(v){var g=v.interaction;g.prevTap=null,g.tapTime=0},"interactions:update-pointer":function(v){var g=v.down,w=v.pointerInfo;!g&&w.hold||(w.hold={duration:1/0,timeout:null})},"interactions:move":function(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget;v.duplicate||w.pointerIsDown&&!w.pointerWasMoved||(w.pointerIsDown&&Gn(v),Vn({interaction:w,pointer:S,event:_,eventTarget:P,type:"move"},g))},"interactions:down":function(v,g){!function(v,g){for(var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget,k=v.pointerIndex,D=w.pointers[k].hold,I=q(P),Z={interaction:w,pointer:S,event:_,eventTarget:P,type:"hold",targets:[],path:I,node:null},vt=0;vt<I.length;vt++){var xt=I[vt];Z.node=xt,g.fire("pointerEvents:collect-targets",Z)}if(Z.targets.length){for(var Ot=1/0,kt=0,Mt=Z.targets;kt<Mt.length;kt++){var It=Mt[kt].eventable.options.holdDuration;It<Ot&&(Ot=It)}D.duration=Ot,D.timeout=setTimeout((function(){Vn({interaction:w,eventTarget:P,pointer:S,event:_,type:"hold"},g)}),Ot)}}(v,g),Vn(v,g)},"interactions:up":function(v,g){Gn(v),Vn(v,g),function(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget;w.pointerWasMoved||Vn({interaction:w,eventTarget:P,pointer:S,event:_,type:"tap"},g)}(v,g)},"interactions:cancel":function(v,g){Gn(v),Vn(v,g)}},PointerEvent:qn,fire:Vn,collectEventTargets:Wn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Vn(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget,k=v.type,D=v.targets,I=void 0===D?Wn(v,g):D,Z=new qn(k,S,_,P,w,g.now());g.fire("pointerEvents:new",{pointerEvent:Z});for(var vt={interaction:w,pointer:S,event:_,eventTarget:P,targets:I,type:k,pointerEvent:Z},xt=0;xt<I.length;xt++){var Ot=I[xt];for(var kt in Ot.props||{})Z[kt]=Ot.props[kt];var Mt=K(Ot.eventable,Ot.node);if(Z._subtractOrigin(Mt),Z.eventable=Ot.eventable,Z.currentTarget=Ot.node,Ot.eventable.fire(Z),Z._addOrigin(Mt),Z.immediatePropagationStopped||Z.propagationStopped&&xt+1<I.length&&I[xt+1].node!==Z.currentTarget)break}if(g.fire("pointerEvents:fired",vt),"tap"===k){var It=Z.double?Vn({interaction:w,pointer:S,event:_,eventTarget:P,type:"doubletap"},g):Z;w.prevTap=It,w.tapTime=It.timeStamp}return Z}function Wn(v,g){var w=v.interaction,S=v.pointer,_=v.event,P=v.eventTarget,k=v.type,D=w.getPointerIndex(S),I=w.pointers[D];if("tap"===k&&(w.pointerWasMoved||!I||I.downTarget!==P))return[];for(var Z=q(P),vt={interaction:w,pointer:S,event:_,eventTarget:P,type:k,path:Z,targets:[],node:null},xt=0;xt<Z.length;xt++){var Ot=Z[xt];vt.node=Ot,g.fire("pointerEvents:collect-targets",vt)}return"hold"===k&&(vt.targets=vt.targets.filter((function(v){var g,S;return v.eventable.options.holdDuration===(null==(g=w.pointers[D])||null==(S=g.hold)?void 0:S.duration)}))),vt.targets}function Gn(v){var g=v.interaction,w=v.pointerIndex,S=g.pointers[w].hold;S&&S.timeout&&(clearTimeout(S.timeout),S.timeout=null)}var Hn=Object.freeze({__proto__:null,default:Kn});function Un(v){var g=v.interaction;g.holdIntervalHandle&&(clearInterval(g.holdIntervalHandle),g.holdIntervalHandle=null)}var $n={id:"pointer-events/holdRepeat",install:function(v){v.usePlugin(Kn);var g=v.pointerEvents;g.defaults.holdRepeatInterval=0,g.types.holdrepeat=v.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(v,g){return v["pointerEvents:".concat(g)]=Un,v}),{"pointerEvents:new":function(v){var g=v.pointerEvent;"hold"===g.type&&(g.count=(g.count||0)+1)},"pointerEvents:fired":function(v,g){var w=v.interaction,S=v.pointerEvent,_=v.eventTarget,P=v.targets;if("hold"===S.type&&P.length){var k=P[0].eventable.options.holdRepeatInterval;k<=0||(w.holdIntervalHandle=setTimeout((function(){g.pointerEvents.fire({interaction:w,eventTarget:_,type:"hold",pointer:S,event:S},g)}),k))}}})},Jn=$n;var Zn={id:"pointer-events/interactableTargets",install:function(g){var w=g.Interactable;w.prototype.pointerEvents=function(g){return V((this||v).events.options,g),this||v};var S=w.prototype._backCompatOption;w.prototype._backCompatOption=function(g,w){var _=S.call(this||v,g,w);return _===(this||v)&&((this||v).events.options[g]=w),_}},listeners:{"pointerEvents:collect-targets":function(v,g){var w=v.targets,S=v.node,_=v.type,P=v.eventTarget;g.interactables.forEachMatch(S,(function(v){var g=v.events,k=g.options;g.types[_]&&g.types[_].length&&v.testIgnoreAllow(k,S,P)&&w.push({node:S,eventable:g,props:{interactable:v}})}))},"interactable:new":function(v){var g=v.interactable;g.events.getRect=function(v){return g.getRect(v)}},"interactable:set":function(v,g){var w=v.interactable,S=v.options;V(w.events.options,g.pointerEvents.defaults),V(w.events.options,S.pointerEvents||{})}}},Qn=Zn,tr={id:"pointer-events",install:function(v){v.usePlugin(Hn),v.usePlugin(Jn),v.usePlugin(Qn)}},er=tr;var nr={id:"reflow",install:function(g){var w=g.Interactable;g.actions.phases.reflow=!0,w.prototype.reflow=function(w){return function(g,w,S){for(var _=g.getAllElements(),P=S.window.Promise,k=P?[]:null,a=function(){var I=_[D],Z=g.getRect(I);if(!Z)return 1;var vt,xt=bt(S.interactions.list,(function(v){return v.interacting()&&v.interactable===g&&v.element===I&&v.prepared.name===w.name}));if(xt)xt.move(),k&&(vt=xt._reflowPromise||new P((function(v){xt._reflowResolve=v})));else{var Ot=U(Z),kt=function(g){return{coords:g,get page(){return(this||v).coords.page},get client(){return(this||v).coords.client},get timeStamp(){return(this||v).coords.timeStamp},get pageX(){return(this||v).coords.page.x},get pageY(){return(this||v).coords.page.y},get clientX(){return(this||v).coords.client.x},get clientY(){return(this||v).coords.client.y},get pointerId(){return(this||v).coords.pointerId},get target(){return(this||v).coords.target},get type(){return(this||v).coords.type},get pointerType(){return(this||v).coords.pointerType},get buttons(){return(this||v).coords.buttons},preventDefault:function(){}}}({page:{x:Ot.x,y:Ot.y},client:{x:Ot.x,y:Ot.y},timeStamp:S.now()});vt=function(v,g,w,S,_){var P=v.interactions.new({pointerType:"reflow"}),k={interaction:P,event:_,pointer:_,eventTarget:w,phase:"reflow"};P.interactable=g,P.element=w,P.prevEvent=_,P.updatePointer(_,_,w,!0),nt(P.coords.delta),Ut(P.prepared,S),P._doPhase(k);var D=v.window,I=D.Promise,Z=I?new I((function(v){P._reflowResolve=v})):void 0;P._reflowPromise=Z,P.start(S,g,w),P._interacting?(P.move(k),P.end(_)):(P.stop(),P._reflowResolve());return P.removePointer(_,_),Z}(S,g,I,w,kt)}k&&k.push(vt)},D=0;D<_.length&&!a();D++);return k&&P.all(k).then((function(){return g}))}(this||v,w,g)}},listeners:{"interactions:stop":function(v,g){var w=v.interaction;"reflow"===w.pointerType&&(w._reflowResolve&&w._reflowResolve(),function(v,g){v.splice(v.indexOf(g),1)}(g.interactions.list,w))}}},rr=nr;if(fn.use(we),fn.use(je),fn.use(er),fn.use(We),fn.use(Bn),fn.use(me),fn.use(Xt),fn.use(oe),fn.use(rr),fn.default=fn,"object"===n(w)&&w)try{w.exports=fn}catch(t){}return fn.default=fn,fn}));var S=w.exports;export{S as default};

