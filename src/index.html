<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Ruphy Studio</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    //background: transparent;
    -webkit-app-region: drag;
  }

  #circle {
    width: 48px;
    height: 48px;
    background-image: url('/public/ruphino_128x128.png');
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    border-radius: 50%;
    -webkit-app-region: drag;
    position: absolute;
    top: 0;
    left: 0;
  }
</style>
</head>
<body>
  <div id="circle" data-tauri-drag-region></div>

<script>
  const { appWindow } = window.__TAURI__.window;

  const circle = document.getElementById('circle');
  let isDragging = false;
  let startX, startY;

  circle.addEventListener('mousedown', async (e) => {
    isDragging = true;
    const position = await appWindow.innerPosition();
    startX = e.screenX - position.x;
    startY = e.screenY - position.y;
  });

  window.addEventListener('mouseup', () => isDragging = false);

  window.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    appWindow.setPosition({
      x: e.screenX - startX,
      y: e.screenY - startY
    });
  });
</script>
</body>
</html>
